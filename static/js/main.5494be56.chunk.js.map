{"version":3,"sources":["PathFindingVisualizer/Node/Node.jsx","Algorithm/pathfindingAlgorithms.js","PathFindingVisualizer/PathFindingVisualizer.jsx","SortingVisualizer/Pile/Pile.jsx","Algorithm/sortingAlgorithms.js","SortingVisualizer/SortingVisualizer.jsx","AIVisualizer/Perceptron/Perceptron.js","AIVisualizer/Perceptron/PtronVisualizer.jsx","AIVisualizer/PongVisualizer/PongAgent.js","AIVisualizer/PongVisualizer/PongVisualizer.jsx","AIVisualizer/ConnectFourVisualizer/MinimaxAgent.js","AIVisualizer/ConnectFourVisualizer/ConnectFour.jsx","AIVisualizer/NNSnakeVisualizer/SnakeNode/SnakeNode.jsx","AIVisualizer/NNSnakeVisualizer/NNSnakeVisualizer.jsx","AIVisualizer/AIVisualizer.jsx","Visualizer.jsx","App.js","serviceWorker.js","index.js"],"names":["Node","this","props","row","col","isFinish","isStart","onMouseDown","onMouseEnter","onMouseUp","isWall","extraClassName","id","className","Component","dijkstra","grid","start","finish","visitedInOrder","distance","unvisited","allNodes","length","sort","a","b","closest","shift","Infinity","isVisited","push","updateUnvisitedNeighbors","DFS","node","pop","concat","getUNeighbors","BFS","neighbors","reN","index","neighbor","previousNode","AStar","heuristic","cur","updateUnvisitedNeighborsStar","manhattanDistance","ar","ac","br","bc","Math","abs","re","randomSelect","path","min","max","floor","random","getNeighbors","visited","points","height","width","pRe","validate","slice","connected","unconnected","forEach","nr","nc","ir","ic","c","u","connect","makeWall","isW","newNode","PathFindingVisualizer","state","FR","FC","mouseIsPressed","changingStart","changingFinish","visualized","rendering","numRow","numCol","SR","SC","speed","delays","currentAlgorithm","algorithms","pathfindingAlgorithms","visualizePathfinding","bind","clearVisualizer","setAlgorithm","getFunctions","algoId","setState","initializeGrid","clearWall","currentRow","element","document","getElementById","createNode","updateGridWithWall","clearVisitedAndPath","newFinish","newStart","setVisualizerRendering","g","shortedPath","unshift","getShortestPath","i","setTimeout","n","console","log","map","rowId","key","nodeId","handleMouseDown","handleMouseEnter","handleMouseUp","class","style","marginTop","type","disabled","data-toggle","aria-haspopup","aria-expanded","marginRight","aria-labelledby","onClick","setSpeed","j","splice","rn","primMaze","marginLeft","Pile","val","isChanging","finished","isPivot","size","colorSetIndex","changingColors","offSet","normalColors","color","lineOff","indicatorLength","background","position","display","x1","y1","x2","y2","stroke","strokeWidth","swap","piles","tempVal","selectionSort","statesInOrder","minId","temp","changing","bubbleSort","newN","insertionSort","mergeSort","mergeSortHelper","end","mid","k","pilesC","merge","quickSort","quickSortHelper","pivot","partition","SortingVisualizer","numPiles","maxPile","changingPiles","pileDelayTimes","DelayTimesSizeBased","getRandomInt","descriptions","unsortedPiles","sortingAlgorithms","randomizePiles","visualizeSorting","initializePiles","s","sizes","nSquare","nLogn","pile","pileId","dummy","indexOf","setSize","range","Perceptron","alpha","weights","Array","inputs","desired","error","feedforward","sum","activate","PtronVisualizer","training","count","ptron","xOff","yOff","M","B","resetVisualizer","startVisualizer","x","as","ae","bs","be","y","answer","f","input","output","initialize","getWeights","xx1","yy1","xx2","yy2","train","guess","fill","textComponet","aM","aB","eM","eB","text","fontFamily","fontSize","circles","point","pointId","radius","opacity","all","name","ref","layer","ax","ay","bx","by","sqrt","PongAgent","discount","epsilon","featureList","action","dots","minDis","d","px","vx","vy","terminal","getMove","features","minDisToDot","result","getFeatures","feature","nextState","reward","diff","getValue","getQ","p","curActions","actions","getPolicy","reAction","maxQ","PongVisualizer","r","ballSpeed","panelx","panely","panelSpeed","ballInitialized","framecount","score","pressedLeft","pressedRight","gameCount","agent","notStarted","componentDidMount","ox","randomInt","ovx","ovy","storedWeights","movePanel","goMouseEnter","onMouseLeave","w1","w2","w3","getState","getAction","curScore","curGameCount","updateBall","updateDots","updatePanel","update","isNaN","dot","dotId","MinimaxAgent","depth","humanPlayer","aiPiece","humanPiece","board","getActions","maxVal","maxValAction","boardCopy","minimax","tryMove","colId","newCol","reverse","four","tar","count1","countN","count2","pow","scoreFour","isMax","beta","checkWinner","getScore","Piece","Col","handleClick","handleEnter","handleLeave","pieces","ConnectFour","currentPlayer","aiPlayer","lastBoards","colors","winner","minimaxAgent","reset","player","move","AITakeMove","buttons","setStartingPlayer","undo","setDepth","cols","loadingImg","src","zIndex","alt","textAlign","checkFour","SnakeNode","NNSnakeVisualizer","numRows","numCols","snake","direction","dr","dc","foodPos","foodScore","randomRow","randomCol","nextFood","line","showSnake","food","updateSnake","lastNode","checkFoodEaten","randomFood","num","AIVisualizer","visualizeAI","getAIFunctions","newScript","run","url","script","createElement","body","appendChild","renderObj","Visualizer","mode","goFunction","resetFunction","sortingClicked","pathClicked","AIClicked","aicount","changeRenderingState","go","setAlgo","interval","springConfig","stiffness","adjustingSpeed","href","data-target","invisibleOrNot","algorithm","role","data-dismiss","App","charset","content","rel","integrity","crossorigin","basename","Boolean","window","location","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5494be56.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './Node.css';\r\n\r\nexport default class Node extends Component {\r\n    render() {\r\n        const {\r\n            row,\r\n            col,\r\n            isFinish,\r\n            isStart,\r\n            onMouseDown,\r\n            onMouseEnter,\r\n            onMouseUp,\r\n            isWall,\r\n        } = this.props;\r\n        const extraClassName = isFinish\r\n            ? 'node-finish'\r\n            : isStart\r\n                ? 'node-start'\r\n                : isWall\r\n                    ? 'node-wall'\r\n                    : '';\r\n        return (\r\n            <div\r\n                id={`node-${row}-${col}`}\r\n                className={`node ${extraClassName}`}\r\n                onMouseDown={() => onMouseDown(row, col)}\r\n                onMouseEnter={() => onMouseEnter(row, col)}\r\n                onMouseUp={() => onMouseUp()}>\r\n            </div>\r\n        );\r\n    }\r\n}","\r\nfunction dijkstra(grid, start, finish) {\r\n    const visitedInOrder = [];\r\n    start.distance = 0;\r\n    const unvisited = allNodes(grid);\r\n    while (unvisited.length) {\r\n        sortNodes(unvisited);\r\n        const closest = unvisited.shift();\r\n        if (closest === finish) {\r\n            return visitedInOrder;\r\n        }\r\n        if (closest.isWall) continue;\r\n        if (closest.distance === Infinity) return visitedInOrder;\r\n        closest.isVisited = true;\r\n        visitedInOrder.push(closest);\r\n\r\n        updateUnvisitedNeighbors(closest, grid);\r\n    }\r\n    return visitedInOrder;\r\n}\r\n\r\nfunction DFS(grid, start, finish) {\r\n    const visitedInOrder = [];\r\n    let unvisited = [];\r\n    unvisited.push(start);\r\n    while (unvisited.length) {\r\n        const node = unvisited.pop();\r\n        if (node === finish) {\r\n            return visitedInOrder;\r\n        }\r\n        if (node.isWall) continue;\r\n        node.isVisited = true;\r\n        visitedInOrder.push(node);\r\n\r\n        unvisited = unvisited.concat(getUNeighbors(node, grid));\r\n    }\r\n\r\n    return visitedInOrder;\r\n}\r\n\r\nfunction BFS(grid, start, finish) {\r\n    const visitedInOrder = [];\r\n    let unvisited = [];\r\n    unvisited.push(start);\r\n    while (unvisited.length) {\r\n        const node = unvisited.shift();\r\n        if (node === finish) {\r\n            return visitedInOrder;\r\n        }\r\n        if (node.isWall) continue;\r\n        node.isVisited = true;\r\n        visitedInOrder.push(node);\r\n\r\n        unvisited = unvisited.concat(getUNeighbors(node, grid));\r\n    }\r\n\r\n    return visitedInOrder;\r\n}\r\n\r\nfunction getUNeighbors(node, grid) {\r\n    const neighbors = [];\r\n    const reN = [];\r\n    const { row, col } = node;\r\n    if (row > 0) neighbors.push(grid[row - 1][col]);\r\n    if (row < grid.length - 1) neighbors.push(grid[row + 1][col]);\r\n    if (col < grid[0].length - 1) neighbors.push(grid[row][col + 1]);\r\n    if (col > 0) neighbors.push(grid[row][col - 1]);\r\n\r\n    for (let index = 0; index < neighbors.length; index++) {\r\n        const neighbor = neighbors[index];\r\n        if (!neighbor.isVisited) {\r\n            neighbor.previousNode = node;\r\n            neighbor.isVisited = true;\r\n            reN.push(neighbor);\r\n        }\r\n    }\r\n    return reN;\r\n\r\n}\r\n\r\nfunction AStar(grid, start, finish) {\r\n    const visitedInOrder = [];\r\n    start.distance = 0;\r\n    start.heuristic = 0;\r\n    const unvisited = allNodes(grid);\r\n    while (unvisited.length) {\r\n        sortNodesStar(unvisited);\r\n        const cur = unvisited.shift();\r\n        if (cur === finish) {\r\n            return visitedInOrder;\r\n        }\r\n        if (cur.isWall) continue;\r\n        if (cur.distance + cur.heuristic === Infinity) return visitedInOrder;\r\n        cur.isVisited = true;\r\n        visitedInOrder.push(cur);\r\n\r\n        updateUnvisitedNeighborsStar(cur, grid, finish);\r\n    }\r\n    return visitedInOrder;\r\n}\r\n\r\nfunction updateUnvisitedNeighborsStar(cur, grid, finish) {\r\n    const neighbors = [];\r\n    const { row, col } = cur;\r\n    if (row > 0) neighbors.push(grid[row - 1][col]);\r\n    if (row < grid.length - 1) neighbors.push(grid[row + 1][col]);\r\n    if (col > 0) neighbors.push(grid[row][col - 1]);\r\n    if (col < grid[0].length - 1) neighbors.push(grid[row][col + 1]);\r\n    for (const neighbor of neighbors) {\r\n        if (!neighbor.isVisited) {\r\n            neighbor.distance = cur.distance + 1;\r\n            neighbor.heuristic = manhattanDistance(neighbor, finish);\r\n            neighbor.previousNode = cur;\r\n        }\r\n    }\r\n}\r\n\r\nfunction manhattanDistance(a, b) {\r\n    let { row: ar, col: ac } = a;\r\n    let { row: br, col: bc } = b;\r\n    return Math.abs(ar - br) + Math.abs(ac - bc);\r\n}\r\n\r\nfunction allNodes(grid) {\r\n    const re = [];\r\n    for (const row of grid) {\r\n        for (const node of row) {\r\n            re.push(node);\r\n        }\r\n    }\r\n    return re;\r\n}\r\n\r\nfunction sortNodesStar(nodes) {\r\n    nodes.sort((a, b) => (a.distance + a.heuristic) - (b.distance + b.heuristic));\r\n}\r\n\r\n\r\nfunction sortNodes(nodes) {\r\n    nodes.sort((a, b) => a.distance - b.distance);\r\n}\r\n\r\nfunction updateUnvisitedNeighbors(closest, grid) {\r\n    const neighbors = [];\r\n    const { row, col } = closest;\r\n    if (row > 0) neighbors.push(grid[row - 1][col]);\r\n    if (row < grid.length - 1) neighbors.push(grid[row + 1][col]);\r\n    if (col > 0) neighbors.push(grid[row][col - 1]);\r\n    if (col < grid[0].length - 1) neighbors.push(grid[row][col + 1]);\r\n    for (const neighbor of neighbors) {\r\n        if (!neighbor.isVisited) {\r\n            neighbor.distance = closest.distance + 1;\r\n            neighbor.previousNode = closest;\r\n        }\r\n    }\r\n}\r\n\r\nfunction getShortestPath(finish) {\r\n    const path = [];\r\n    let cur = finish;\r\n    while (cur !== null) {\r\n        path.unshift(cur);\r\n        cur = cur.previousNode;\r\n    }\r\n    return path;\r\n}\r\n\r\nfunction randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction primMaze(grid) {\r\n    let sr = 7, sc = 17; // set a starting point for generating maze\r\n    let height = grid.length, width = grid[0].length;\r\n    for (let i = 0; i < height; i++) {\r\n        for (let j = 0; j < width; j++) {\r\n            makeWall(grid, i, j, false);\r\n        }\r\n\r\n    }\r\n    for (let i = 0; i < height; i++) {\r\n        for (let j = i % 2 + 1; j < width; j += i % 2 + 1) {\r\n            makeWall(grid, i, j, true);\r\n        }\r\n    }\r\n    for (let i = 0; i < height; i++) {\r\n        makeWall(grid, i, 0, true);\r\n    }\r\n    let visited = [];\r\n    let path = [{ row: sr, col: sc }];\r\n    while (path.length > 0) {\r\n        const index = randomSelect(path);\r\n        const node = path[index];\r\n        path.splice(index, 1);\r\n        visited = visited.concat([node]);\r\n        const { c: connected, u: unconnected } = getNeighbors(grid, visited, node);\r\n        if (connected.length > 0) {\r\n            let rn = randomSelect(connected);\r\n            connect(grid, node, connected[rn]);\r\n            connected.splice(rn);\r\n        }\r\n        path = path.concat(unconnected);\r\n\r\n    }\r\n}\r\n\r\nfunction randomSelect(path) {\r\n    return randomInt(0, path.length - 1);\r\n}\r\n\r\nfunction validate(grid, points) {\r\n    let height = grid.length, width = grid[0].length;\r\n    let pRe = [];\r\n    for (let index = 0; index < points.length; index++) {\r\n        let { row, col } = points[index];\r\n        if ((0 <= row && row < height && 0 <= col && col < width)) {\r\n            pRe.push(points[index]);\r\n        }\r\n    }\r\n    return pRe;\r\n\r\n}\r\n\r\nfunction isVisited(visited, node) {\r\n    let { row: nr, col: nc } = node;\r\n    for (let index = 0; index < visited.length; index++) {\r\n        let { row: ir, col: ic } = visited[index];\r\n        if (nr === ir && nc === ic) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction getNeighbors(grid, visited, node) {\r\n    let { row, col } = node;\r\n    let neighbors = [{ row: row + 2, col: col }, { row: row - 2, col: col }, { row: row, col: col + 2 }, { row: row, col: col - 2 }];\r\n    neighbors = validate(grid, neighbors.slice());\r\n    let connected = [];\r\n    let unconnected = [];\r\n    neighbors.forEach(neighbor => {\r\n        if (isVisited(visited, neighbor)) {\r\n            connected.push(neighbor);\r\n        }\r\n        else {\r\n            unconnected.push(neighbor);\r\n        }\r\n    });\r\n    return { c: connected, u: unconnected };\r\n}\r\n\r\nfunction connect(grid, a, b) {\r\n    let { row: ar, col: ac } = a;\r\n    let { row: br, col: bc } = b;\r\n    let row = (ar + br) / 2;\r\n    let col = (ac + bc) / 2;\r\n    makeWall(grid, row, col, false);\r\n}\r\n\r\nfunction makeWall(grid, row, col, isW) {\r\n    const node = grid[row][col];\r\n    const newNode = {\r\n        ...node,\r\n        isWall: isW,\r\n    }\r\n    grid[row][col] = newNode;\r\n}\r\n\r\nexport { dijkstra, BFS, DFS, AStar, getShortestPath, primMaze };","import React, { Component } from 'react';\r\nimport Node from './Node/Node';\r\nimport { dijkstra, BFS, DFS, AStar, getShortestPath, primMaze } from '../Algorithm/pathfindingAlgorithms';\r\nimport './PathFindingVisualizer.css';\r\n\r\nexport default class PathFindingVisualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            grid: [],\r\n            FR: 7,\r\n            FC: 31,\r\n            mouseIsPressed: false,\r\n            changingStart: false,\r\n            changingFinish: false,\r\n            visualized: false,\r\n            rendering: false,\r\n            numRow: 17,\r\n            numCol: 37,\r\n            SR: 7,\r\n            SC: 5,\r\n            speed: 'median',\r\n            delays: {'slow': 17, 'median': 7, 'fast': 3},\r\n            currentAlgorithm: -1,\r\n            algorithms: ['BFS', 'Dijkstra', 'A Star', 'DFS'],\r\n            pathfindingAlgorithms: [BFS, dijkstra, AStar, DFS]\r\n        };\r\n        this.visualizePathfinding = this.visualizePathfinding.bind(this);\r\n        this.clearVisualizer = this.clearVisualizer.bind(this);\r\n        this.setAlgorithm = this.setAlgorithm.bind(this);\r\n        this.props.getFunctions(this.visualizePathfinding, this.clearVisualizer, this.setAlgorithm, this.state.algorithms);\r\n    }\r\n\r\n    setAlgorithm(algoId) {\r\n        this.setState({ currentAlgorithm: algoId });\r\n    }\r\n\r\n    isRendering() {\r\n        return this.state.rendering;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const grid = this.initializeGrid(false);\r\n        this.setState({\r\n            grid: grid,\r\n            currentAlgorithm: -1\r\n        })\r\n        this.state.grid = grid;\r\n    }\r\n\r\n    initializeGrid(clearWall) {\r\n        const grid = [];\r\n        for (let row = 0; row < this.state.numRow; row++) {\r\n            const currentRow = [];\r\n            for (let col = 0; col < this.state.numCol; col++) {\r\n                let isW = false;\r\n                const element = document.getElementById(`node-${row}-${col}`);\r\n                if (element && (element.className === 'node node-path' || element.className === 'node node-visited')) {\r\n                    element.className = 'node';\r\n                }\r\n                if (!clearWall && element && element.className === 'node node-wall') {\r\n                    isW = true;\r\n                }\r\n                currentRow.push(this.createNode(row, col, isW));\r\n            }\r\n            grid.push(currentRow);\r\n        }\r\n        return grid;\r\n    }\r\n\r\n    createNode(row, col, isW) {\r\n        return {\r\n            col,\r\n            row,\r\n            isStart: row === this.state.SR && col === this.state.SC,\r\n            isFinish: row === this.state.FR && col === this.state.FC,\r\n            distance: Infinity,\r\n            heuristic: Infinity,\r\n            isVisited: false,\r\n            isWall: isW,\r\n            previousNode: null,\r\n        };\r\n    }\r\n\r\n    handleMouseDown(row, col) {\r\n        if (row === this.state.SR && col === this.state.SC) {\r\n            this.setState({ changingStart: true });\r\n        }\r\n        else if (row === this.state.FR && col === this.state.FC) {\r\n            this.setState({ changingFinish: true });\r\n        }\r\n        else if (!this.state.rendering) {\r\n            this.updateGridWithWall(this.state.grid, row, col);\r\n            this.setState({ mouseIsPressed: true });\r\n            this.clearVisitedAndPath();\r\n        }\r\n    }\r\n\r\n    handleMouseEnter(row, col) {\r\n        if (this.state.mouseIsPressed) {\r\n            this.updateGridWithWall(this.state.grid, row, col);\r\n            this.setState({ mouseIsPressed: true });\r\n        }\r\n\r\n        else if (this.state.changingStart && !(row === this.state.FR && col === this.state.FC)) {\r\n            const start = document.getElementById(`node-${this.state.SR}-${this.state.SC}`);\r\n            if (start) {\r\n                start.className = 'node';\r\n                start.isStart = false;\r\n                this.state.grid[this.state.SR][this.state.SC].isStart = false;\r\n            }\r\n            const newStart = document.getElementById(`node-${row}-${col}`);\r\n            if (newStart) {\r\n                newStart.isStart = true;\r\n                newStart.className = 'node node-start';\r\n                this.state.grid[row][col].isStart = true;\r\n            }\r\n            this.setState({ SR: row, SC: col });\r\n            this.clearVisitedAndPath();\r\n\r\n        }\r\n        else if (this.state.changingFinish && !(row === this.state.SR && col === this.state.SC)) {\r\n            const finish = document.getElementById(`node-${this.state.FR}-${this.state.FC}`);\r\n            if (finish) {\r\n                finish.className = 'node';\r\n                finish.isFinish = false;\r\n                this.state.grid[this.state.FR][this.state.FC].isFinish = false;\r\n            }\r\n            const newFinish = document.getElementById(`node-${row}-${col}`);\r\n            if (newFinish) {\r\n                newFinish.isFinish = true;\r\n                newFinish.className = 'node node-finish';\r\n                this.state.grid[row][col].isFinish = true;\r\n            }\r\n            this.setState({ FR: row, FC: col });\r\n            this.clearVisitedAndPath();\r\n        }\r\n\r\n    }\r\n\r\n    handleMouseUp() {\r\n        this.setState({\r\n            changingStart: false,\r\n            changingFinish: false,\r\n            mouseIsPressed: false\r\n        });\r\n    }\r\n\r\n    updateGridWithWall(grid, row, col) {\r\n        const node = grid[row][col];\r\n        const newNode = {\r\n            ...node,\r\n            isWall: !node.isWall\r\n        }\r\n        grid[row][col] = newNode;\r\n    }\r\n\r\n    visualizePathfinding() {\r\n        if (this.state.currentAlgorithm === -1) return;\r\n        if (this.state.rendering) return;\r\n\r\n        this.setState({ visualized: true, rendering: true });\r\n        this.props.setVisualizerRendering(true);\r\n        let g = this.initializeGrid(false);\r\n        this.setState({\r\n            grid: g\r\n        });\r\n        this.state.grid = g;\r\n        const grid = this.state.grid;\r\n        const start = grid[this.state.SR][this.state.SC];\r\n        const finish = grid[this.state.FR][this.state.FC];\r\n        const visitedInOrder = this.state.pathfindingAlgorithms[this.state.currentAlgorithm](grid, start, finish);\r\n        const shortedPath = getShortestPath(finish);\r\n        for (let i = 0; i < visitedInOrder.length; i++) {\r\n            setTimeout(() => {\r\n                const node = visitedInOrder[i];\r\n                if (!node.isStart && !node.isFinish)\r\n                    document.getElementById(`node-${node.row}-${node.col}`).className = 'node node-visited';\r\n            }, this.state.delays[this.state.speed] * i);\r\n        }\r\n\r\n        for (let i = 0; i < shortedPath.length; i++) {\r\n            setTimeout(() => {\r\n                const node = shortedPath[i];\r\n                if (!node.isStart && !node.isFinish)\r\n                    document.getElementById(`node-${node.row}-${node.col}`).className = 'node node-path';\r\n            }, this.state.delays[this.state.speed] * visitedInOrder.length + 50 * i);\r\n\r\n        }\r\n        setTimeout(() => {\r\n            this.setState({ rendering: false });\r\n            this.props.setVisualizerRendering(false);\r\n        }, this.state.delays[this.state.speed] * visitedInOrder.length + 50 * shortedPath.length);\r\n\r\n    }\r\n\r\n    clearVisualizer() {\r\n        if (!this.state.rendering)\r\n            this.setState({ grid: this.initializeGrid(true), visualized: false });\r\n\r\n    }\r\n\r\n    clearVisitedAndPath(){\r\n        for(let row = 0; row < this.state.numRow; row++){\r\n            for(let col = 0; col < this.state.numCol; col++){\r\n                let n = document.getElementById(`node-${row}-${col}`);\r\n                console.log(n);\r\n                if(n && (n.className === 'node node-visited' || n.className === 'node node-path')){\r\n                    n.className = 'node';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    setSpeed(speed){\r\n        this.setState({speed: speed});\r\n    }\r\n\r\n    render() {\r\n\r\n        const grid = this.state.grid;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"grid\">\r\n                    {grid.map((row, rowId) => {\r\n                        return (\r\n                            <div key={rowId}>\r\n                                {row.map((node, nodeId) => {\r\n                                    const { row, col, isFinish, isStart, isWall } = node;\r\n                                    return (\r\n                                        <Node\r\n                                            key={nodeId}\r\n                                            row={row}\r\n                                            col={col}\r\n                                            isStart={isStart}\r\n                                            isFinish={isFinish}\r\n                                            isWall={isWall}\r\n                                            mouseIsPressed={this.state.mouseIsPressed}\r\n                                            onMouseDown={(row, col) => this.handleMouseDown(row, col)}\r\n                                            onMouseEnter={(row, col) => this.handleMouseEnter(row, col)}\r\n                                            onMouseUp={() => this.handleMouseUp()}\r\n                                        ></Node>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                        );\r\n                    })\r\n                    }\r\n                </div>\r\n                <div class={\"dropdown\"} style={{marginTop: \"10px\"}}>\r\n                        <button class=\"btn btn-outline-dark dropdown-toggle\" type=\"button\" disabled={this.state.rendering} id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{marginRight:\"5px\", height: \"30px\", width: \"150px\" }}>\r\n                            <p style={{ \"margin-top\": \"-5px\" }}>{`Speed: ${this.state.speed}`}</p>\r\n                        </button>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                            <li>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{height: \"30px\"}} onClick={() => this.setSpeed('slow')}><p style={{ \"margin-top\": \"-5px\" }}>{`slow`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{height: \"30px\"}} onClick={() => this.setSpeed('median')}><p style={{ \"margin-top\": \"-5px\" }}>{`median`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{height: \"30px\"}} onClick={() => this.setSpeed('fast')}><p style={{ \"margin-top\": \"-5px\" }}>{`fast`}</p></button>\r\n                            </li>\r\n                        </div>\r\n                        <button\r\n                        onClick={() => { \r\n                            primMaze(this.state.grid);\r\n                            this.setState({ finish: false});\r\n                            this.clearVisitedAndPath();\r\n                        }}\r\n                        type=\"button\" class=\"btn btn-outline-dark\"\r\n                        style={{marginLeft: \"5px\", \"height\": \"30px\"}}\r\n                        disabled={this.state.rendering}>\r\n                        <p style={{ \"margin-top\": \"-6px\" }}>generate maze</p>\r\n                        \r\n                    </button>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './Pile.css';\r\n\r\nexport default class Pile extends Component {\r\n    render() {\r\n\r\n        const {\r\n            val,\r\n            isChanging,\r\n            isPivot,\r\n            finished,\r\n            index,\r\n            size,\r\n            colorSetIndex,\r\n            changingColors = [`rgb(228, 230, 120)`, `rgb(155, 147, 229)`, `rgb(248, 250, 140)`],\r\n            offSet = { 'small': 20, 'median': 0, 'large': 0 },\r\n            normalColors = [`rgb(200,${(1 - val / 45) * 255 + 50 + offSet[size]}, 255)`, `rgb(250,200, ${(1 - val / 80) * 255 + offSet[size]})`, `rgb( ${(1 - val / 80) * 255 + offSet[size]},200,250)`],\r\n        } = this.props;\r\n\r\n        let extraClassName = '';\r\n        if (isChanging) {\r\n            extraClassName = '-changing';\r\n        }\r\n        if (finished) {\r\n            extraClassName = '-finished';\r\n        }\r\n        let color = extraClassName === '-changing' ? changingColors[colorSetIndex] : normalColors[colorSetIndex];\r\n        if (!this.props.finished && this.props.isPivot) color = 'rgb(240, 190, 149)';\r\n        let lineOff = -20 * this.props.index;\r\n        let heights = { 'small': 14, 'median': 10, 'large': 8 };\r\n        let indicatorLength = { 'small': 420, 'median': 620, 'large': 820 };\r\n        return (\r\n            <>\r\n                <div\r\n                    className={'pile' + extraClassName}\r\n                    style={{ height: `${val * heights[this.props.size]}px`, background: color }}\r\n\r\n                >\r\n                    <p className='value'>{val}</p>\r\n                    {!this.props.finished && this.props.isPivot && <svg height=\"100\" width={indicatorLength[size] + 100} style={{ position: \"absolute\", display: \"flex\", marginTop: \"-31px\", marginLeft: `${lineOff}px` }}>\r\n                        <line x1=\"0\" y1=\"0\" x2={indicatorLength[size]} y2=\"0\" style={{ stroke: \"grey\", strokeWidth: \"3px\" }}></line>\r\n                    </svg>}\r\n                </div>\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n}","function swap(piles, a, b) {\r\n    const tempVal = piles[a];\r\n    piles[a] = piles[b];\r\n    piles[b] = tempVal;\r\n}\r\n\r\nfunction selectionSort(piles) {\r\n\r\n    let statesInOrder = [];\r\n    for (let i = 0; i < piles.length - 1; i++) {\r\n        let minId = i;\r\n        for (let j = i + 1; j < piles.length; j++) {\r\n            if (piles[j] < piles[minId]) {\r\n                minId = j;\r\n            }\r\n            const temp = { piles: piles.slice(), changing: [j] };\r\n            statesInOrder.push(temp);\r\n\r\n        }\r\n        swap(piles, minId, i);\r\n        const temp = { piles: piles.slice(), changing: [minId, i] };\r\n        statesInOrder.push(temp);\r\n    }\r\n    return statesInOrder;\r\n}\r\n\r\nfunction bubbleSort(piles) {\r\n    let statesInOrder = [];\r\n    let n = piles.length;\r\n    while (n > 1) {\r\n        let newN = 0;\r\n        for (let i = 1; i < n; i++) {\r\n            if (piles[i - 1] > piles[i]) {\r\n                swap(piles, i - 1, i);\r\n                newN = i;\r\n                const temp = { piles: piles.slice(), changing: [i] };\r\n                statesInOrder.push(temp);\r\n            }\r\n        }\r\n        n = newN;\r\n    }\r\n    return statesInOrder;\r\n}\r\n\r\nfunction insertionSort(piles) {\r\n    let statesInOrder = [];\r\n    for (let i = 1; i < piles.length; i++) {\r\n        for (let j = i; j > 0 && piles[j - 1] > piles[j]; j--) {\r\n            swap(piles, j, j - 1);\r\n            const temp = { piles: piles.slice(), changing: [j - 1] };\r\n            statesInOrder.push(temp);\r\n        }\r\n    }\r\n    console.log(statesInOrder);\r\n    return statesInOrder;\r\n}\r\n\r\nfunction mergeSort(piles) {\r\n    let statesInOrder = [];\r\n    mergeSortHelper(piles, 0, piles.length - 1, statesInOrder);\r\n    return statesInOrder;\r\n}\r\n\r\nfunction mergeSortHelper(piles, start, end, statesInOrder) {\r\n    if (start === end) return;\r\n    const mid = Math.floor((start + end) / 2);\r\n    mergeSortHelper(piles, start, mid, statesInOrder);\r\n    mergeSortHelper(piles, mid + 1, end, statesInOrder);\r\n    merge(piles, start, mid, end, statesInOrder);\r\n}\r\n\r\nfunction merge(piles, start, mid, end, statesInOrder) {\r\n    let k = start, i = start, j = mid + 1;\r\n    let pilesC = piles.slice();\r\n    while (i <= mid && j <= end) {\r\n        if (pilesC[i] <= pilesC[j]) {\r\n            piles[k++] = pilesC[i++];\r\n        }\r\n        else {\r\n            piles[k++] = pilesC[j++];\r\n        }\r\n        const temp = { piles: piles.slice(), changing: [i, j, k] };\r\n        statesInOrder.push(temp);\r\n\r\n    }\r\n    while (i <= mid) {\r\n        piles[k++] = pilesC[i++];\r\n        const temp = { piles: piles.slice(), changing: [i, k] };\r\n        statesInOrder.push(temp);\r\n    }\r\n    while (j <= end) {\r\n        piles[k++] = pilesC[j++];\r\n        const temp = { piles: piles.slice(), changing: [j, k] };\r\n        statesInOrder.push(temp);\r\n    }\r\n}\r\n\r\n\r\nfunction quickSort(piles) {\r\n    let statesInOrder = [];\r\n    quickSortHelper(piles, 0, piles.length - 1, statesInOrder);\r\n    return statesInOrder;\r\n}\r\n\r\nfunction quickSortHelper(piles, start, end, statesInOrder) {\r\n    if (start < end) {\r\n        let pivot = partition(piles, start, end, statesInOrder);\r\n        quickSortHelper(piles, start, pivot - 1, statesInOrder);\r\n        quickSortHelper(piles, pivot + 1, end, statesInOrder);\r\n    }\r\n}\r\n\r\nfunction partition(piles, start, end, statesInOrder) {\r\n    let pivot = piles[end];\r\n    let i = start - 1;\r\n    for (let j = start; j <= end - 1; j++) {\r\n        if (piles[j] < pivot) {\r\n            i++;\r\n            swap(piles, i, j);\r\n            const temp = { piles: piles.slice(), changing: [i, j], pivot: pivot};\r\n            if(pivot !== piles.length+4) statesInOrder.push(temp);\r\n        }\r\n    }\r\n    swap(piles, i + 1, end);\r\n    const temp = { piles: piles.slice(), changing: [i + 1, end], pivot: pivot};\r\n    if(pivot !== piles.length+4) statesInOrder.push(temp);\r\n    return i + 1;\r\n}\r\n\r\nexport { selectionSort, bubbleSort, insertionSort, mergeSort, quickSort };","import React, { Component } from 'react';\r\nimport './SortingVisualizer.css';\r\nimport Pile from './Pile/Pile';\r\nimport { selectionSort, bubbleSort, insertionSort, mergeSort, quickSort } from '../Algorithm/sortingAlgorithms';\r\n\r\nexport default class SortingVisualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            piles: [],\r\n            numPiles: 30,\r\n            finished: false,\r\n            maxPile: 80,\r\n            changingPiles: [],\r\n            pileDelayTimes: [30, 40, 40, 80, 80],\r\n            DelayTimesSizeBased: {'fast': [15, 20, 20, 40, 40], 'median': [30, 40, 40, 80, 80], 'slow': [60, 80, 80, 160, 160]},\r\n            colorSetIndex: getRandomInt(0, 3),\r\n            currentAlgorithm: -1,\r\n            descriptions: ['Selection Sort: repeatedly find the minimum element from the unsorted part and append it to the sorted part.', \r\n                           'Bubble Sort: repeatedly swap the adjacent elements if they are in wrong order.',\r\n                           'Insertion Sort: repeatedly place value from the unsorted part at the correct position in the sorted part(by finding the closest left-side element that is smaller than it).',\r\n                           'Merge Sort: divide the array into two halves, sort them recursively using merge sort, and then merge the two halves.',\r\n                           'Quick Sort: choose an element as pivot, arrange the array such that the elements smaller than pivot are on its left and others are on its right, sort the two halves recursively.'],\r\n            unsortedPiles: [],\r\n            speed: \"median\",\r\n            size: \"median\",\r\n            algorithms: ['Selection Sort', 'Bubble Sort', 'Insertion Sort', 'Merge Sort', 'Quick Sort'],\r\n            sortingAlgorithms: [selectionSort, bubbleSort, insertionSort, mergeSort, quickSort]\r\n        };\r\n        this.randomizePiles = this.randomizePiles.bind(this);\r\n        this.visualizeSorting = this.visualizeSorting.bind(this);\r\n        this.setAlgorithm = this.setAlgorithm.bind(this);\r\n        this.props.getFunctions(this.visualizeSorting, this.randomizePiles, this.setAlgorithm, this.state.algorithms);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const piles = this.initializePiles();\r\n        this.setState({\r\n            piles: piles,\r\n        });\r\n        this.setState({ piles: piles, unsortedPiles: piles.slice() });\r\n    }\r\n\r\n    setAlgorithm(algoId) {\r\n        if (this.state.unsortedPiles !== []) {\r\n            this.setState({ finished: false, changingPiles: [], piles: this.state.unsortedPiles, pivot: -1 });\r\n        }\r\n        this.setState({ currentAlgorithm: algoId });\r\n    }\r\n\r\n    initializePiles() {\r\n        let piles = [];\r\n        for (let i = 0; i < this.state.numPiles; i++) {\r\n            piles.push(i + 5);\r\n        }\r\n\r\n        for (let i = 0; i < this.state.numPiles; i++) {\r\n            let j = getRandomInt(0, i);\r\n            let temp = piles[i];\r\n            piles[i] = piles[j];\r\n            piles[j] = temp;\r\n        }\r\n        piles.push(this.state.numPiles + 5);\r\n        return piles;\r\n    }\r\n\r\n    visualizeSorting() {\r\n        if (this.state.currentAlgorithm === -1) {\r\n            return;\r\n        }\r\n        if (this.state.rendering) return;\r\n        if (this.state.finished) {\r\n            this.state.finished = false;\r\n            this.state.changingPiles = [];\r\n            this.state.piles = this.state.unsortedPiles;\r\n        }\r\n        this.setState({ rendering: true });\r\n        this.props.setVisualizerRendering(true);\r\n        const piles = this.state.piles.slice();\r\n\r\n        const statesInOrder = this.state.sortingAlgorithms[this.state.currentAlgorithm](piles);\r\n        for (let i = 0; i < statesInOrder.length; i++) {\r\n            const { piles: state, changing: changingPiles, pivot } = statesInOrder[i];\r\n            setTimeout(() => {\r\n                this.setState({ piles: state, changingPiles: changingPiles, pivot: pivot });\r\n            }, this.state.pileDelayTimes[this.state.currentAlgorithm] * i);\r\n\r\n        }\r\n        setTimeout(() => {\r\n            this.setState({ rendering: false, finished: true });\r\n            this.props.setVisualizerRendering(false);\r\n        }, this.state.pileDelayTimes[this.state.currentAlgorithm] * statesInOrder.length);\r\n    }\r\n\r\n    randomizePiles() {\r\n        if (this.state.rendering) return;\r\n        this.setState({ finished: false, changingPiles: [], colorSetIndex: getRandomInt(0, 3) });\r\n        const piles = this.initializePiles();\r\n        this.setState({ piles: piles, unsortedPiles: piles.slice() });\r\n    }\r\n\r\n    setSpeed(speed) {\r\n        this.setState({ speed: speed, pileDelayTimes: this.state.DelayTimesSizeBased[speed] });\r\n    }\r\n\r\n    setSize(s) {\r\n        if(this.state.size === s) return;\r\n        let sizes = {\"small\": 20, \"median\": 30, \"large\": 40};\r\n        this.setState({ size: s, numPiles: sizes[s] });\r\n        this.state.numPiles = sizes[s];\r\n        const piles = this.initializePiles();\r\n        this.setState({ finished: false, changingPiles: [], piles: piles, unsortedPiles: piles.slice() });\r\n    }\r\n\r\n    render() {\r\n        const piles = this.state.piles;\r\n        let nSquare = <p>Time Complexity: θ(n&#178;)</p>\r\n        let nLogn = <p>Time Complexity: θ(n·log(n))</p>\r\n        return (\r\n            <>\r\n\r\n                <div className='piles' class=\"container\">\r\n                    {\r\n\r\n                        piles.map((pile, pileId) => {\r\n                            return (\r\n                                <Pile\r\n                                    dummy={pileId === this.state.numPiles}\r\n                                    finished={this.state.finished}\r\n                                    className='pile'\r\n                                    key={pileId}\r\n                                    index={pileId}\r\n                                    val={pile}\r\n                                    size={this.state.size}\r\n                                    isChanging={this.state.changingPiles.indexOf(pileId) !== -1}\r\n                                    isPivot={this.state.pivot === pile}\r\n                                    colorSetIndex={this.state.colorSetIndex}\r\n                                ></Pile>\r\n                            )\r\n                        })\r\n\r\n                    }\r\n\r\n                </div>\r\n                \r\n                <div class=\"d-flex\" style={{marginLeft: \"37%\", marginTop: \"10px\"}}>\r\n                    <div class=\"dropdown 1\">\r\n                        <button class=\"btn btn-outline-dark dropdown-toggle\" type=\"button\" disabled={this.state.rendering} id=\"dropdownMenuSpeed\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{ marginRight: \"5px\", height: \"30px\", width: \"150px\" }}>\r\n                            <p style={{ \"margin-top\": \"-5px\" }}>{`Speed: ${this.state.speed}`}</p>\r\n                        </button>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuSpeed\">\r\n                            <li>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSpeed('slow')}><p style={{ \"margin-top\": \"-5px\" }}>{`slow`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSpeed('median')}><p style={{ \"margin-top\": \"-5px\" }}>{`median`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSpeed('fast')}><p style={{ \"margin-top\": \"-5px\" }}>{`fast`}</p></button>\r\n                            </li>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"dropdown 1\">\r\n                        <button class=\"btn btn-outline-dark dropdown-toggle\" type=\"button\" disabled={this.state.rendering} id=\"dropdownMenuSize\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{ marginLeft: \"5px\", height: \"30px\", width: \"150px\" }}>\r\n                            <p style={{ \"margin-top\": \"-5px\" }}>{`Size: ${this.state.size}`}</p>\r\n                        </button>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuSize\">\r\n                            <li>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSize('small')}><p style={{ \"margin-top\": \"-5px\" }}>{`small`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSize('median')}><p style={{ \"margin-top\": \"-5px\" }}>{`median`}</p></button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setSize('large')}><p style={{ \"margin-top\": \"-5px\" }}>{`large`}</p></button>\r\n                            </li>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <h6 class='algoDescription'>{this.state.currentAlgorithm === -1 ? \"Welcome to Sorting. Select an algorithm first.\" : this.state.descriptions[this.state.currentAlgorithm]}</h6>\r\n                <h5 class='algoComplexity' style={{marginTop: \"-4.5%\", color:\"rgb(90,90,90)\"}}>{\r\n                    this.state.currentAlgorithm === -1 ? \r\n                        \"\" : this.state.currentAlgorithm < 3 ?\r\n                            nSquare : nLogn\r\n                }</h5>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction getRandomInt(min, range) {\r\n    return Math.floor(Math.random() * range) + min;\r\n}","class Perceptron {\r\n    constructor(n, alpha) {\r\n        this.weights = new Array(n);\r\n        \r\n        for (let i = 0; i < this.weights.length; i++) {\r\n            this.weights[i] = random(-1, 1);\r\n        }\r\n        this.alpha = alpha;\r\n    }\r\n\r\n    /**\r\n     * train the perceptron, adjust weights based on error\r\n     * @param {*} inputs \r\n     * @param {*} desired \r\n     */\r\n    train(inputs, desired) {\r\n        let guess = this.feedforward(inputs);\r\n        \r\n        let error = desired - guess;\r\n\r\n        for (let i = 0; i < this.weights.length; i++) {\r\n            this.weights[i] += this.alpha * error * inputs[i];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {*} inputs \r\n     * @returns the predicted result\r\n     */\r\n    feedforward(inputs) {\r\n        let sum = 0;\r\n        for (let i = 0; i < this.weights.length; i++) {\r\n            sum += inputs[i] * this.weights[i];\r\n        }\r\n        return this.activate(sum);\r\n        \r\n    }\r\n\r\n    activate(sum) {\r\n        return sum > 0 ? 1 : -1;\r\n    }\r\n\r\n    getWeights() {\r\n        return this.weights;\r\n    }\r\n}\r\n\r\nfunction random(min, max) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nexport {Perceptron, random};","import React, { Component } from 'react';\r\nimport { Stage, Layer, Line, Circle, Text } from 'react-konva';\r\nimport { Perceptron, random } from './Perceptron';\r\nimport './PtronVisualizer.css';\r\n\r\n/**\r\n * class definition of PtronVisualizer Class\r\n */\r\nexport default class PtronVisualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            training: new Array(1002),\r\n            rendering: false,\r\n            min: -1,\r\n            max: 1,\r\n            width: 500,\r\n            height: 500,\r\n            count: 0,\r\n            ptron: null,\r\n            xOff: 50,\r\n            yOff: 100,\r\n            M: 0.4,\r\n            B: 0.3,\r\n        }\r\n        this.resetVisualizer = this.resetVisualizer.bind(this);\r\n        this.startVisualizer = this.startVisualizer.bind(this);\r\n        this.props.getFunctions(this.startVisualizer, this.resetVisualizer);\r\n    }\r\n\r\n    /**\r\n     * @param {*} x \r\n     * @returns exact value of the origin function\r\n     */\r\n    f(x) {\r\n        return this.state.M * x + this.state.B;\r\n    }\r\n\r\n    /**\r\n     * map the value n from a range [as, ae] to [bs, be]\r\n     * @param {*} n \r\n     * @param {*} as \r\n     * @param {*} ae \r\n     * @param {*} bs \r\n     * @param {*} be \r\n     * @returns the mapped value\r\n     */\r\n    map(n, as, ae, bs, be) {\r\n        return ((n - as) / (ae - as)) * (be - bs) + bs;\r\n    }\r\n\r\n    initialize() {\r\n        this.state.ptron = new Perceptron(3, 0.006);\r\n        for (let i = 0; i < this.state.training.length; i++) {\r\n            let x = random(this.state.min, this.state.max);\r\n            let y = random(this.state.min, this.state.max);\r\n            let answer = 1;\r\n            if (y < this.f(x)) answer = -1;\r\n            this.state.training[i] = {\r\n                input: [x, y, 1],\r\n                output: answer\r\n            }\r\n        }\r\n    }\r\n\r\n    resetVisualizer() {\r\n        if (this.state.rendering) {\r\n            return;\r\n        }\r\n        this.setState({ count: 0 });\r\n        this.state.count = 0;\r\n    }\r\n\r\n    startVisualizer() {\r\n        this.setState({ rendering: true });\r\n        for (let i = 0; i < this.state.training.length - 1; i++) {\r\n            setTimeout(\r\n                () => {\r\n                    this.setState({ count: i });\r\n                    this.state.count = i;\r\n                }\r\n                , 25 * i);\r\n        }\r\n        setTimeout(() => {\r\n            this.setState({ rendering: false });\r\n        }, 25 * this.state.training.length)\r\n\r\n    }\r\n\r\n    /**\r\n     * render the scene using Konva\r\n     */\r\n    render() {\r\n        if (this.state.count === 0) {\r\n            this.initialize();\r\n        }\r\n        let min = this.state.min;\r\n        let max = this.state.max;\r\n        let ptron = this.state.ptron;\r\n        let x1 = this.map(min, min, max, 0, this.state.width);\r\n        let y1 = this.map(this.f(min), min, max, this.state.height, 0);\r\n        let x2 = this.map(max, min, max, 0, this.state.width);\r\n        let y2 = this.map(this.f(max), min, max, this.state.height, 0);\r\n\r\n        let weights = ptron.getWeights();\r\n        let xx1 = min;\r\n        let yy1 = (-weights[2] - weights[0] * xx1) / weights[1];\r\n        let xx2 = max;\r\n        let yy2 = (-weights[2] - weights[0] * xx2) / weights[1];\r\n\r\n        xx1 = this.map(xx1, min, max, 0, this.state.width);\r\n        yy1 = this.map(yy1, min, max, this.state.height, 0);\r\n        xx2 = this.map(xx2, min, max, 0, this.state.width);\r\n        yy2 = this.map(yy2, min, max, this.state.height, 0);\r\n        ptron.train(this.state.training[this.state.count].input, this.state.training[this.state.count].output);\r\n\r\n        let points = []\r\n\r\n        for (let i = 0; i < this.state.count; i++) {\r\n            let guess = ptron.feedforward(this.state.training[i].input);\r\n            let x = this.map(this.state.training[i].input[0], min, max, 0, this.state.width);\r\n            let y = this.map(this.state.training[i].input[1], min, max, this.state.height, 0);\r\n            if(i%4>0) points.push({ x: x, y: y, fill: guess < 0 });\r\n        }\r\n        \r\n        let aM = -weights[0] / weights[1];\r\n        let aB = -weights[2] / weights[1];\r\n        let eM = aM - this.state.M;\r\n        let eB = aB - this.state.B;\r\n        let textComponet;\r\n        if (this.state.count !== 0) {\r\n            textComponet = <><Text\r\n                x={550}\r\n                y={50}\r\n                text='Function Form: Y = M * X + B'\r\n                fontFamily='Calibri'\r\n                fill='black'\r\n                fontSize={25}\r\n            ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={80}\r\n                    text={`Original Function: M = ${this.state.M} B = ${this.state.B}`}\r\n                    fontFamily='Calibri'\r\n                    fill='black'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={135}\r\n                    text={`Approximation:\\nM = ${aM}\\nB = ${aB}`}\r\n                    fontFamily='Calibri'\r\n                    fill='black'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={240}\r\n                    text={`Error:\\nM: ${eM}\\nB:${eB}`}\r\n                    fontFamily='Calibri'\r\n                    fill='red'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={340}\r\n                    text={`Count: ${this.state.count}`}\r\n                    fontFamily='Calibri'\r\n                    fill='grey'\r\n                    fontSize={25}\r\n                ></Text>\r\n                </>\r\n        }\r\n        else {\r\n            textComponet = <><Text\r\n                x={550}\r\n                y={50}\r\n                text=''\r\n                fontFamily='Calibri'\r\n                fill='black'\r\n                fontSize={25}\r\n            ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={80}\r\n                    text={`Original Function: M = ${this.state.M} B = ${this.state.B}`}\r\n                    fontFamily='Calibri'\r\n                    fill='black'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={135}\r\n                    text={`Approximation:\\nM = ${aM}\\nB = ${aB}`}\r\n                    fontFamily='Calibri'\r\n                    fill='black'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={240}\r\n                    text={`Error:\\nM: ${eM}\\nB:${eB}`}\r\n                    fontFamily='Calibri'\r\n                    fill='red'\r\n                    fontSize={25}\r\n                ></Text>\r\n                <Text\r\n                    x={550}\r\n                    y={340}\r\n                    text={`Count: ${this.state.count}`}\r\n                    fontFamily='Calibri'\r\n                    fill='grey'\r\n                    fontSize={25}\r\n                ></Text>\r\n                </>\r\n        }\r\n        let circles = points.map((point, pointId) => {\r\n            return (<Circle\r\n                key={pointId}\r\n                x={point.x + 0}\r\n                y={point.y + 0}\r\n                stroke={'black'}\r\n                radius={3}\r\n                opacity={0.7}\r\n                fill={point.fill ? 'black' : 'white'}\r\n            ></Circle>)}\r\n        )\r\n        this.state.all = (\r\n            <>\r\n                <Stage\r\n                    width={500 * 2}\r\n                    height={500 + 1}\r\n                    className='ptron-stage'\r\n                    id='stage'\r\n                >\r\n                    <Layer name=\"layer\" ref={ref => (this.state.layer = ref)}>\r\n                        <Line points={[0, 0, 500, 0]} stroke={'black'} ></Line>\r\n                        <Line points={[0, 0, 0, 0 + 500]} stroke={'black'}></Line>\r\n                        <Line points={[0, 0 + 500, 500 + 0, 0 + 500]} stroke={'black'} ></Line>\r\n                        <Line points={[500 + 0, 0, 500 + 0, 0 + 500]} stroke={'black'} strokeWidth={1}></Line>\r\n                        <Line\r\n                            points={[x1 + 0, 0 + y1, x2 + 0, 0 + y2]}\r\n                            stroke={'red'}\r\n                            strokeWidth={1}>\r\n                        </Line>\r\n                        <Line\r\n                            points={[xx1 + 0, 0 + yy1, xx2 + 0, 0 + yy2]}\r\n                            stroke={'blue'}\r\n                            strokeWidth={this.state.count > 0 ? 1 : 0}>\r\n                        </Line>\r\n                        {circles}\r\n                        {textComponet}\r\n                    </Layer>\r\n                </Stage>\r\n            </>\r\n        );\r\n        return this.state.all;\r\n    }\r\n\r\n}\r\n","/**\r\n * @param {*} p \r\n * @returns true at a probability of p\r\n */\r\nfunction flipCoin(p) {\r\n    return Math.random() < p;\r\n}\r\n\r\n/**\r\n * @param {*} a \r\n * @param {*} b \r\n * @returns Euclidean distance between a and b\r\n */\r\nfunction distance(a, b) {\r\n    let { x: ax, y: ay } = a;\r\n    let { x: bx, y: by } = b;\r\n    return Math.sqrt(((ax - bx) * (ax - bx) + (ay - by) * (ay - by)));\r\n}\r\n\r\nclass PongAgent {\r\n    constructor(speed, discount, epsilon, alpha) {\r\n        this.weights = {\r\n            \"min_dis_to_dot\": 0,\r\n            \"dis_to_panel\": 0,\r\n            \"num_dots\": 0,\r\n        };\r\n        this.discount = discount;\r\n        this.epsilon = epsilon;\r\n        this.alpha = alpha;\r\n        this.speed = speed;\r\n        this.featureList = [\"min_dis_to_dot\", \"dis_to_panel\", \"num_dots\"]\r\n    }\r\n\r\n    getMove(action) {\r\n        return action * this.speed;\r\n    }\r\n\r\n    minDisToDot(x, y, dots) {\r\n        let minDis = Infinity;\r\n        for (const dot of dots) {\r\n            const d = distance({ x: x, y: y }, dot);\r\n            if (d < minDis) {\r\n                minDis = d;\r\n            }\r\n        }\r\n        return minDis;\r\n    }\r\n\r\n    /**\r\n     * @param {*} state \r\n     * @param {*} action \r\n     * @returns the features at the state after taking the action\r\n     */\r\n    getFeatures(state, action) {\r\n        let { dots, x, y, px, vx, vy, terminal } = state;\r\n        px = px + this.getMove(action) + 50;\r\n        let features = {\r\n            \"min_dis_to_dot\": 0,\r\n            \"dis_to_panel\": 0,\r\n            \"num_dots\": 0,\r\n        };\r\n        features[\"min_dis_to_dot\"] = this.minDisToDot(x, y, dots) / Math.sqrt(600 * 600 + 550 * 550);\r\n        features[\"dis_to_panel\"] = Math.abs(x - px) / 600;\r\n        features[\"num_dots\"] = dots.length / 5;\r\n        return features;\r\n    }\r\n\r\n    /**\r\n     * @param {*} state \r\n     * @param {*} action \r\n     * @returns the Q value of the state after taking the action\r\n     */\r\n    getQ(state, action) {\r\n        if (!state) {\r\n            return 0;\r\n        }\r\n        let result = 0;\r\n        const features = this.getFeatures(state, action);\r\n        for (const feature of this.featureList) {\r\n            result += this.weights[feature] * features[feature];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * update weights based on rewards.\r\n     * @param {*} state \r\n     * @param {*} action \r\n     * @param {*} nextState \r\n     * @param {*} reward \r\n     */\r\n    update(state, action, nextState, reward) {\r\n        if (!action) {\r\n            return;\r\n        }\r\n        const features = this.getFeatures(state, action)\r\n        const diff = reward + this.discount * this.getValue(nextState) - this.getQ(state, action);\r\n        \r\n        for (const feature of this.featureList) {\r\n            this.weights[feature] += this.alpha * diff * features[feature];\r\n        }\r\n    }\r\n\r\n    setWeights(weights) {\r\n        this.weights = weights;\r\n    }\r\n\r\n    actions() {\r\n        return [-1, 0, 1];\r\n    }\r\n\r\n    /**\r\n     * choose the \"best\" action at a probability of (1-epsilon) and a random action at a probability of (epsilon)\r\n     * @param {*} state \r\n     * @returns selected action\r\n     */\r\n    getAction(state) {\r\n        if (state[\"terminal\"] === true) return null;\r\n        const curActions = this.actions();\r\n\r\n        if (flipCoin(this.epsilon)) {\r\n            const action = curActions[randomSelect(curActions)];\r\n            return action;\r\n        }\r\n        else {\r\n            return this.getPolicy(state);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @param {*} state \r\n     * @returns the action with maximum utility\r\n     */\r\n    getPolicy(state) {\r\n        const curActions = this.actions();\r\n        let reAction = null;\r\n        let maxQ = -Infinity;\r\n        for (const a of curActions) {\r\n            if (this.getQ(state, a) > maxQ) {\r\n                maxQ = this.getQ(state, a);\r\n                reAction = a;\r\n            }\r\n            else if (this.getQ(state, a) === maxQ) {\r\n                reAction = randomSelect([a, reAction]);\r\n            }\r\n        }\r\n        return reAction;\r\n    }\r\n\r\n    getValue(state) {\r\n        return this.getQ(state, this.getPolicy(state));\r\n    }\r\n}\r\n\r\nfunction randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction randomSelect(path) {\r\n    return randomInt(0, path.length - 1);\r\n}\r\n\r\nexport default PongAgent;","import React, { Component } from 'react';\r\nimport { Stage, Layer, Rect, Circle, Text } from 'react-konva';\r\nimport PongAgent from \"./PongAgent.js\";\r\nimport \"./PongVisualizer.css\";\r\n\r\n/**\r\n * definition of PongVisualizer Class\r\n */\r\nexport default class PongVisualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dots: [],\r\n            rendering: true,\r\n            width: 600,\r\n            height: 500,\r\n            x: null,\r\n            y: null,\r\n            r: 15,\r\n            vx: 0,\r\n            vy: 0,\r\n            ballSpeed: 3,\r\n            panelx: 0,\r\n            panely: 480,\r\n            panelSpeed: 3,\r\n            ballInitialized: false,\r\n            framecount: 0,\r\n            score: 0,\r\n            pressedLeft: false,\r\n            pressedRight: false,\r\n            finished: false,\r\n            gameCount: -1,\r\n            agent: new PongAgent(3, 0.9, 0.2, 0.2),\r\n            notStarted: true,\r\n        }\r\n\r\n        this.resetVisualizer = this.resetVisualizer.bind(this);\r\n        this.startVisualizer = this.startVisualizer.bind(this);\r\n\r\n        this.props.getFunctions(this.startVisualizer, this.resetVisualizer);\r\n\r\n    }\r\n\r\n    startVisualizer() {\r\n        this.setState({ notStarted: false });\r\n        this.setState({\r\n            rendering: false,\r\n            ballInitialized: false,\r\n            framecount: 0,\r\n            score: 0,\r\n            finished: false,\r\n            gameCount: 0,\r\n            agent: new PongAgent(3, 0.9, 0.2, 0.2),\r\n        });\r\n        this.componentDidMount();\r\n    }\r\n    resetVisualizer() {\r\n        this.setState({\r\n            rendering: false,\r\n            ballInitialized: false,\r\n            framecount: 0,\r\n            score: 0,\r\n            finished: false,\r\n            gameCount: 0,\r\n            notStarted: true,\r\n            agent: new PongAgent(3, 0.9, 0.2, 0.2),\r\n        });\r\n        this.componentDidMount();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.initialize();\r\n    }\r\n\r\n    initialize() {\r\n        let speed = this.state.ballSpeed;\r\n        let ox = randomInt(200, 480);\r\n        let oy = 200;\r\n        let ovx = [speed, -speed, 1.2 * speed, -1.2 * speed, 0.8 * speed, -0.8 * speed][randomInt(0, 5)];\r\n        let ovy = speed;\r\n        this.setState({\r\n            x: ox,\r\n            y: oy,\r\n            vx: ovx,\r\n            vy: ovy,\r\n            score: 0,\r\n            panelx: 0,\r\n            storedWeights: {},\r\n            dots: [{ x: 100, y: 100 }, { x: 200, y: 100 }, { x: 300, y: 100 }, { x: 400, y: 100 }, { x: 500, y: 100 }],\r\n            gameCount: this.state.gameCount + 1\r\n        });\r\n        this.state.x = ox;\r\n        this.state.y = oy;\r\n        this.state.vx = ovx;\r\n        this.state.vy = ovy;\r\n\r\n    }\r\n\r\n    getState() {\r\n        const { dots, x, y, panelx: px, vx, vy } = this.state;\r\n        return { dots: dots, x: x, y: y, px: px, vx: vx, vy: vy, terminal: this.state.score === 500 || this.state.finished };\r\n    }\r\n\r\n    updatePanel(action) {\r\n        if (this.state.finished) return;\r\n        this.movePanel(action);\r\n    }\r\n\r\n    updateBall() {\r\n        if (this.state.finished) return;\r\n        let { x, y, r, vx, vy, panelx } = this.state;\r\n        if (x === 0 && y === 0) return;\r\n        x = x + vx;\r\n        y = y + vy;\r\n        if (x > this.state.width - r - 5 || x < r + 5) {\r\n            vx = -vx;\r\n        }\r\n        if (y < r + 5) {\r\n            vy = -vy;\r\n        }\r\n        if (y > this.state.panely - r - 5 && y > this.state.panely - r + 5 && Math.abs(panelx - x + 50) < 50) {\r\n            vy = vy > 0 ? -vy : vy\r\n        }\r\n        else if (y > this.state.height - r && Math.abs(panelx - x + 50) > 50) {\r\n            this.setState({ score: this.state.score - 1000 });\r\n            this.initialize();\r\n            return false;\r\n        }\r\n        this.setState({\r\n            x: x,\r\n            y: y,\r\n            vx: vx,\r\n            vy: vy\r\n        });\r\n        this.state.x = x;\r\n        this.state.y = y;\r\n        this.state.vx = vx;\r\n        this.state.vy = vy;\r\n\r\n        return true;\r\n    }\r\n\r\n    updateDots() {\r\n        if (this.state.finished) return;\r\n        let score = this.state.score;\r\n        for (let i = 0; i < this.state.dots.length; i++) {\r\n            if (distance(this.state.dots[i], { x: this.state.x, y: this.state.y }) < this.state.r) {\r\n                this.state.dots.splice(i, 1);\r\n                score += 100;\r\n            }\r\n        }\r\n        this.setState({ score: score });\r\n    }\r\n\r\n    movePanel(action) {\r\n        if (this.state.finished) return;\r\n        let panelx = this.state.panelx;\r\n        let panelSpeed = this.state.panelSpeed;\r\n        if (action === -1) {\r\n            panelx = panelx - panelSpeed;\r\n        }\r\n        else if (action === 1) {\r\n            panelx = panelx + panelSpeed;\r\n        }\r\n        this.setState({ panelx: Math.min(this.state.width - 100, Math.max(0, panelx)) });\r\n\r\n    }\r\n\r\n    render() {\r\n        if (this.state.notStarted) {\r\n            return (\r\n                <>\r\n                <Stage\r\n                        width={this.state.width}\r\n                        height={this.state.height}\r\n                        className='pong-stage-notstarted'\r\n                        id='pong stage'\r\n                    >\r\n                        <Layer>\r\n                            <Rect width={this.state.width} height={this.state.height} stroke=\"black\" fill=\"black\"></Rect>\r\n                            <Text\r\n                                x={200}\r\n                                y={200}\r\n                                text={`Press`}\r\n                                fontFamily='Calibri'\r\n                                fill='white'\r\n                                fontSize={30}\r\n                            ></Text>\r\n                            <Text\r\n                                x={275}\r\n                                y={200}\r\n                                text={`go`}\r\n                                fontFamily='Calibri'\r\n                                fill={this.state.goMouseEnter ? 'rgb(142, 228, 213)':'white'}\r\n                                fontSize={30}\r\n                                onClick={\r\n                                    ()=>{this.setState({notStarted:false})}\r\n                                }\r\n                                onMouseEnter={\r\n                                    ()=>{this.setState({goMouseEnter:true})}\r\n                                }\r\n                                onMouseLeave={\r\n                                    ()=>{this.setState({goMouseEnter:false})}\r\n                                }\r\n                            ></Text>\r\n                            <Text\r\n                                x={315}\r\n                                y={200}\r\n                                text={`to start.`}\r\n                                fontFamily='Calibri'\r\n                                fill='white'\r\n                                fontSize={30}\r\n                            ></Text>\r\n                        </Layer>\r\n                        \r\n                    </Stage>\r\n                    <div class=\"pongDescription\">\r\n                        <h4 style={{ marginTop: \"0px\", marginLeft: \"650px\", \"text-align\": \"left\", fontFamily: \"monospace\" }}>\r\n                            <br /><br /><br /><br />\r\n                            This is a simple illustration of Reinforcement Learning, \"Apporixmate Q Learning\" specifically.<br/><br/>\r\n                            \r\n                            Our agent is given \"vision\" to current distance from the panel to the ball, distance from the\r\n                            ball to the nearest dot, and the number of dots remaining. The agent may try some random moves initially,\r\n                            and get \"rewards\"(positive score) and \"punishments\"(negative score) when eating the dots and dying.<br/><br/>\r\n\r\n                            After some trials, our agent would appear to know that bouncing the ball back would eventually lead it to \"rewards\", \r\n                            and manage to do that to finally win the game (eating all 5 dots).\r\n                        </h4>\r\n                    </div>\r\n                    </>\r\n            );\r\n        }\r\n        let { \"min_dis_to_dot\": w1,\r\n            \"dis_to_panel\": w2,\r\n            \"num_dots\": w3 } = this.state.agent.weights;\r\n        if (!this.notStarted && this.state.score !== 500 && !this.state.finished) {\r\n            setTimeout(() => {\r\n                let agent = this.state.agent;\r\n                if (this.state.gameCount > 10) agent.training = false;\r\n                const state = this.getState();\r\n                const action = agent.getAction(state);\r\n                const curScore = this.state.score;\r\n                const curGameCount = this.state.gameCount;\r\n\r\n                this.updateBall();\r\n                this.updateDots();\r\n                this.updatePanel(action);\r\n\r\n                const nextState = this.getState();\r\n                const reward = 10 + this.state.score - curScore + (-1000) * (this.state.gameCount - curGameCount);\r\n                agent.update(state, action, nextState, reward);\r\n\r\n                if (this.state.score === 500) {\r\n                    this.setState({ finished: true });\r\n                }\r\n                this.state.framecount += 1;\r\n\r\n            }, 10 * this.state.framecount);\r\n            if (!isNaN(w1) && !this.state.finished) {\r\n                this.state.storedWeights = {\r\n                    \"min_dis_to_dot\": w1,\r\n                    \"dis_to_panel\": w2,\r\n                    \"num_dots\": w3\r\n                };\r\n            }\r\n        }\r\n        const { x, y } = this.state;\r\n        const dots = this.state.dots;\r\n\r\n\r\n        if (this.state.finished) {\r\n            let { \"min_dis_to_dot\": w1,\r\n                \"dis_to_panel\": w2,\r\n                \"num_dots\": w3 } = this.state.storedWeights;\r\n            if (this.state.rendering) {\r\n                this.props.setVisualizerRendering(false);\r\n                this.state.rendering = false;\r\n            }\r\n            return (\r\n                <>\r\n                    <Stage\r\n                        width={this.state.width}\r\n                        height={this.state.height}\r\n                        className='pong-stage'\r\n                        id='pong stage'\r\n                    >\r\n                        <Layer>\r\n                            <Rect width={this.state.width} height={this.state.height} stroke=\"black\" fill=\"black\"></Rect>\r\n                            <Text\r\n                                x={250}\r\n                                y={200}\r\n                                text={`Win!`}\r\n                                fontFamily='Calibri'\r\n                                fill='white'\r\n                                fontSize={50}\r\n                            ></Text>\r\n                        </Layer>\r\n                    </Stage>\r\n                    <div>\r\n                        <h4 style={{ marginTop: \"0px\", marginLeft: \"700px\", \"text-align\": \"left\", fontFamily: \"monospace\" }}>\r\n                            <br /><br /><br /><br />\r\n                            {\"Your agent's weights:\"}<br />\r\n                            <div class=\"w-text\">\r\n                                <p >{`w1: min distance to dot:`}<br /><p class=\"num\">{w1}</p></p>\r\n                                <p>{`w2: distance to between the ball and the panel:`}<br /><p class=\"num\">{w2}</p></p>\r\n                                <p>{`w3: number of dots remaining:`}<br /><p class=\"num\">{w3}</p></p></div>\r\n                        </h4>\r\n                    </div></>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div>\r\n                    <Stage\r\n                        width={this.state.width}\r\n                        height={this.state.height}\r\n                        className='pong-stage'\r\n                        id='pong stage'\r\n                    >\r\n                        <Layer>\r\n                            <Rect width={this.state.width} height={this.state.height} stroke=\"black\" fill=\"black\"></Rect>\r\n\r\n                            {dots.map((dot, dotId) => {\r\n                                return (\r\n                                    <Circle\r\n                                        key={dotId}\r\n                                        x={dot[\"x\"]}\r\n                                        y={dot[\"y\"]}\r\n                                        stroke={'white'}\r\n                                        fill={\"white\"}\r\n                                        radius={5}\r\n                                    ></Circle>)\r\n                            })\r\n                            }\r\n                            <Circle\r\n                                x={x}\r\n                                y={y}\r\n                                radius={this.state.r}\r\n                                stroke={'white'}\r\n                                fill={\"white\"}>\r\n                            </Circle>\r\n                            <Rect x={this.state.panelx} y={this.state.panely} width={100} height={10} stroke={'white'}\r\n                                fill={\"white\"}></Rect>\r\n                            <Text\r\n                                x={10}\r\n                                y={15}\r\n                                text={`Score: ${this.state.score}`}\r\n                                fontFamily='Calibri'\r\n                                fill='white'\r\n                                fontSize={25}\r\n                            ></Text>\r\n                        </Layer>\r\n                    </Stage></div>\r\n                <div>\r\n                    <h4 style={{\r\n                        marginTop: \"0px\", marginLeft: \"700px\", \"text-align\": \"left\", fontFamily: \"monospace\", fontSize: \"25px\"\r\n                    }}>\r\n                        <br /><br /><br /><br />\r\n                        {\"Your agent's weights:\"}<br />\r\n                        <div class=\"w-text\">\r\n                            <p >{`w1: min distance to dot:`}<br /><p class=\"num\">{w1}</p></p>\r\n                            <p>{`w2: distance to between the ball and the panel:`}<br /><p class=\"num\">{w2}</p></p>\r\n                            <p>{`w3: number of dots remaining:`}<br /><p class=\"num\">{w3}</p></p></div>\r\n                    </h4>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nfunction randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction distance(a, b) {\r\n    let { x: ax, y: ay } = a;\r\n    let { x: bx, y: by } = b;\r\n    return Math.sqrt(((ax - bx) * (ax - bx) + (ay - by) * (ay - by)));\r\n}","import {checkWinner} from './ConnectFour';\r\n\r\nclass MinimaxAgent {\r\n    constructor(depth, humanPlayer) {\r\n        this.depth = depth;\r\n        if(humanPlayer === 0){\r\n            this.aiPiece = \"p2\";\r\n            this.humanPiece = \"p1\";\r\n        }\r\n        else{\r\n            this.aiPiece = \"p1\";\r\n            this.humanPiece = \"p2\";\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {*} board \r\n     * @returns possible actions\r\n     */\r\n    getActions(board) {\r\n        let actions = [];\r\n        for (let index = 0; index < board.length; index++) {\r\n            if (board[index][1] === null) {\r\n                actions.push(index);\r\n            }\r\n        }\r\n        return actions;\r\n    }\r\n\r\n    /**\r\n     * choose the action with greatest utility based on Minimax algorithm\r\n     * @param {*} board \r\n     * @returns action with greatest utility\r\n     */\r\n    getAction(board) {\r\n        let actions = this.getActions(board);\r\n        let maxVal = -Infinity;\r\n        let maxValAction = null;\r\n        board = board.map((a) => a.slice());\r\n        for (const action of actions) {\r\n            const boardCopy = board.map((a) => a.slice());\r\n            let val = this.minimax(this.tryMove(action, boardCopy, this.aiPiece), false, -Infinity, Infinity, this.depth);\r\n            if (maxVal < val || maxValAction === null) {\r\n                maxVal = val;\r\n                maxValAction = action;\r\n            }\r\n            if (maxVal === val && action === 3){\r\n                maxValAction = action;\r\n            }\r\n            console.log(action, val);\r\n        }\r\n        return maxValAction;\r\n    }\r\n\r\n    tryMove(colId, board, val) {\r\n        let newCol = board[colId].reverse();\r\n        newCol[newCol.indexOf(null)] = val;\r\n        newCol.reverse();\r\n        return board;\r\n    }\r\n\r\n    count(four, tar) {\r\n        let count = 0;\r\n        for (const each of four) {\r\n            if (each === tar) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * score a four-pieces line\r\n     * @param {*} a \r\n     * @param {*} b \r\n     * @param {*} c \r\n     * @param {*} d \r\n     * @returns score\r\n     */\r\n    scoreFour(a, b, c, d) {\r\n        const four = [a, b, c, d];\r\n        const count1 = this.count(four, this.humanPiece);\r\n        const countN = this.count(four, null);\r\n        const count2 = this.count(four, this.aiPiece);\r\n        if(countN === 4 || (count1 > 0 && count2 > 0)) return 0;\r\n        if(count1 === 4){\r\n            return -10e22;\r\n        } \r\n        if(count2 === 4){\r\n            return 10e22;\r\n        } \r\n        if(count1 === 0){\r\n            return Math.pow(10*count2, count2);\r\n        }\r\n        if(count2 === 0){\r\n            return -Math.pow(10*count1, count1);\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * evaluation function, getting score by checking each possible \"four in a row\"\r\n     * @param {*} board \r\n     * @returns score of the board\r\n     */\r\n    getScore(board) {\r\n        let score = 0;\r\n        for (let c = 0; c < 7; c++) {\r\n            for (let r = 1; r < 4; r++) {\r\n                let sc = this.scoreFour(board[c][r], board[c][r + 1], board[c][r + 2], board[c][r + 3]);\r\n                score += sc;\r\n            }\r\n        }\r\n\r\n\r\n        for (let c = 0; c < 4; c++) {\r\n            for (let r = 1; r < 7; r++) {\r\n                let sc = this.scoreFour(board[c][r], board[c + 1][r], board[c + 2][r], board[c + 3][r]);\r\n                score += sc;\r\n            }\r\n        }\r\n\r\n        for (let c = 0; c < 4; c++) {\r\n            for (let r = 1; r < 4; r++) {\r\n                let sc = this.scoreFour(board[c][r], board[c + 1][r + 1], board[c + 2][r + 2], board[c + 3][r + 3]);\r\n                score += sc;\r\n            }\r\n        }\r\n\r\n        for (let c = 3; c < 7; c++) {\r\n            for (let r = 1; r < 4; r++) {\r\n                let sc = this.scoreFour(board[c][r], board[c - 1][r + 1], board[c - 2][r + 2], board[c - 3][r + 3]);\r\n                score += sc;\r\n            }\r\n        }\r\n        return score;\r\n    }\r\n\r\n    /**\r\n     * Minimax algorithm with alpha-beta pruning\r\n     * @param {*} board \r\n     * @param {*} isMax \r\n     * @param {*} alpha \r\n     * @param {*} beta \r\n     * @param {*} depth\r\n     * @returns minimax utility \r\n     */\r\n    minimax(board, isMax, alpha, beta, depth) {\r\n        board = board.map((a) => a.slice());\r\n\r\n        if (checkWinner(board) || depth === 0) {\r\n            let score = this.getScore(board);\r\n            return score;\r\n        }\r\n\r\n        let actions = this.getActions(board);\r\n\r\n        if (isMax) {\r\n            let val = -Infinity;\r\n            for (const action of actions) {\r\n                const boardCopy = board.map((a) => a.slice());\r\n                val = Math.max(val, this.minimax(this.tryMove(action, boardCopy, this.aiPiece), false, alpha, beta, depth - 1));\r\n\r\n                if (val >= beta) {\r\n                    return val;\r\n                }\r\n                alpha = Math.max(alpha, val);\r\n            }\r\n            return val;\r\n        }\r\n        else {\r\n            let val = Infinity;\r\n            for (const action of actions) {\r\n                const boardCopy = board.map((a) => a.slice());\r\n                val = Math.min(val, this.minimax(this.tryMove(action, boardCopy, this.humanPiece), true, alpha, beta, depth - 1));\r\n                if (val <= alpha) {\r\n                    return val;\r\n                }\r\n                beta = Math.min(beta, val);\r\n            }\r\n            return val;\r\n        }\r\n    }\r\n}\r\n\r\nexport default MinimaxAgent;","import React, { Component } from 'react';\r\nimport MinimaxAgent from './MinimaxAgent';\r\nimport \"./ConnectFour.css\"\r\n\r\n/**\r\n * @param {*} props \r\n * @returns Picec Object\r\n */\r\nfunction Piece(props) {\r\n    return (\r\n        <div className={props.id === 0 ? \"virtual-piece\" : \"piece\"}>\r\n            <div\r\n                className={(props.id === 0 ? \"v\" : \"\") + `${props.val}` + (props.finished && props.val !== null ? \"finished\" : \"\")}\r\n            ></div>\r\n        </div>\r\n    );\r\n}\r\n\r\n/**\r\n * @param {*} props \r\n * @returns Col Object\r\n */\r\nfunction Col(props) {\r\n    return (\r\n        <div\r\n            className=\"col\" onClick={() => props.handleClick()} onMouseEnter={() => props.handleEnter()} onMouseLeave={() => props.handleLeave()}>\r\n            {[...Array(props.pieces.length)].map((x, y) => {\r\n                return <Piece key={y} val={props.pieces[y]} id={y} finished={props.finished}></Piece>\r\n            }\r\n            )}\r\n        </div >\r\n    );\r\n}\r\n\r\n/**\r\n * definition of ConnectFour Class\r\n */\r\nexport default class ConnectFour extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentPlayer: 0,\r\n            aiPlayer: 1,\r\n            humanPlayer: 0,\r\n            humanPiece: \"p1\",\r\n            board: new Array(7).fill(new Array(7).fill(null)),\r\n            lastBoards: [],\r\n            colors: [\"p1\", \"p2\"],\r\n            winner: null,\r\n            depth: 4,\r\n            minimaxAgent: new MinimaxAgent(4, 0),\r\n        };\r\n        this.reset = this.reset.bind(this);\r\n        this.props.getFunctions(() => { }, this.reset);\r\n    }\r\n\r\n    reset() {\r\n        this.setState({\r\n            currentPlayer: 0,\r\n            board: new Array(7).fill(new Array(7).fill(null)),\r\n            lastBoards: [],\r\n            colors: [\"p1\", \"p2\"],\r\n            winner: null,\r\n        });\r\n    }\r\n\r\n    undo() {\r\n        if (this.state.lastBoards.length) {\r\n            this.setState({\r\n                board: this.state.lastBoards.pop(),\r\n                currentPlayer: this.state.humanPlayer,\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    setStartingPlayer(player) {\r\n        if (player === \"human\") {\r\n            this.setState({\r\n                aiPlayer: 1,\r\n                humanPlayer: 0,\r\n                humanPiece: \"p1\",\r\n                minimaxAgent: new MinimaxAgent(this.state.depth, 0),\r\n            });\r\n        }\r\n        else {\r\n            this.setState({\r\n                aiPlayer: 0,\r\n                humanPlayer: 1,\r\n                humanPiece: \"p2\",\r\n                minimaxAgent: new MinimaxAgent(this.state.depth, 1),\r\n            });\r\n        }\r\n        this.reset();\r\n    }\r\n\r\n    setDepth(d) {\r\n        this.setState({ depth: d, minimaxAgent: new MinimaxAgent(d, this.state.humanPlayer) });\r\n    }\r\n\r\n    handleClick(colId) {\r\n        if (this.state.currentPlayer === this.state.aiPlayer) return;\r\n        if (!this.state.winner) {\r\n            this.state.lastBoards.push(this.state.board.map((a) => a.slice()));\r\n            this.move(colId);\r\n        }\r\n    }\r\n\r\n    AITakeMove() {\r\n        if (checkWinner(this.state.board) === null && this.state.currentPlayer === this.state.aiPlayer) {\r\n            const boardCopy = this.state.board.map((a) => a.slice());\r\n            const action = this.state.minimaxAgent.getAction(boardCopy);\r\n            this.move(action);\r\n        }\r\n    }\r\n\r\n    handleEnter(colId) {\r\n        if (this.state.currentPlayer === this.state.aiPlayer) return;\r\n        const boardCopy = this.state.board.map((a) => a.slice());\r\n        boardCopy[colId][0] = this.state.colors[this.state.currentPlayer];\r\n        for (let index = 0; index < boardCopy.length; index++) {\r\n            if (index !== colId) {\r\n                boardCopy[index][0] = null;\r\n            }\r\n        }\r\n        this.setState({\r\n            board: boardCopy\r\n        });\r\n    }\r\n\r\n    handleLeave(colId) {\r\n        const boardCopy = this.state.board.map((a) => a.slice());\r\n        boardCopy[colId][0] = null;\r\n        this.setState({\r\n            board: boardCopy\r\n        });\r\n    }\r\n\r\n    move(colId) {\r\n        const boardCopy = this.state.board.map((a) => a.slice());\r\n\r\n        if (boardCopy[colId].slice(1, 7).indexOf(null) >= 0) {\r\n            let newCol = boardCopy[colId].reverse();\r\n            newCol[newCol.indexOf(null)] = this.state.colors[this.state.currentPlayer];\r\n            newCol.reverse();\r\n\r\n            if (this.state.depth === 6) {\r\n                boardCopy[colId][0] = null;\r\n            }\r\n            else if (this.state.currentPlayer === this.state.humanPlayer) {\r\n                boardCopy[colId][0] = this.state.colors[this.state.currentPlayer];\r\n            }\r\n            this.setState({\r\n                currentPlayer: Math.abs(this.state.currentPlayer - 1),\r\n                board: boardCopy,\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.aiPlayer === 0) {\r\n            this.AITakeMove();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const boardCopy = this.state.board.map((a) => a.slice());\r\n        let winner = checkWinner(boardCopy);\r\n        if (this.state.winner !== winner) {\r\n\r\n            for (let index = 0; index < boardCopy.length; index++) {\r\n                boardCopy[index][0] = null;\r\n            }\r\n            this.setState({\r\n                winner: winner,\r\n                board: boardCopy,\r\n            })\r\n        }\r\n        setTimeout(() => this.AITakeMove(), 200);\r\n    }\r\n\r\n    render() {\r\n        let buttons =\r\n            <>\r\n                <button\r\n                    style={{ position: \"absolute\", marginTop: \"460px\", marginLeft: \"100px\", height: \"30px\", width: \"130px\" }}\r\n                    onClick={() => this.setStartingPlayer(this.state.aiPlayer === 1 ? \"ai\" : \"human\")}\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-dark\">\r\n                    <p style={{ \"margin-top\": \"-5px\" }}>{`offensive: ${this.state.aiPlayer === 1 ? \"you\" : \"ai\"}`}</p>\r\n                </button>\r\n\r\n                <button\r\n                    style={{ position: \"absolute\", marginTop: \"460px\", marginLeft: \"240px\", height: \"30px\", width: \"100px\" }}\r\n                    onClick={() => this.undo()}\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-dark\">\r\n                    <p style={{ \"margin-top\": \"-5px\" }}>undo</p>\r\n                </button>\r\n                <div class={\"dropdown\"}>\r\n                    <button class=\"btn btn-outline-dark dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" style={{ position: \"absolute\", marginTop: \"460px\", marginLeft: \"-130px\", height: \"30px\", width: \"130px\" }}>\r\n                        <p style={{ \"margin-top\": \"-5px\" }}>{`Depth: ${this.state.depth}`}</p>\r\n                    </button>\r\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                        <li>\r\n                            <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setDepth(2)}><p style={{ \"margin-top\": \"-5px\" }}>{`Depth: 2`}</p></button>\r\n                            <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setDepth(4)}><p style={{ \"margin-top\": \"-5px\" }}>{`Depth: 4`}</p></button>\r\n                            <button type=\"button\" class=\"btn btn-light navbtn\" style={{ height: \"30px\" }} onClick={() => this.setDepth(6)}><p style={{ \"margin-top\": \"-5px\" }}>{`Depth: 6`}</p></button>\r\n                        </li>\r\n                    </div>\r\n                </div>\r\n            </>\r\n\r\n        if (this.state.winner) {\r\n            let cols = [...Array(this.state.board.length)].map((x, y) =>\r\n                <Col\r\n                    key={y}\r\n                    pieces={this.state.board[y]}\r\n                    handleClick={() => { }}\r\n                    handleEnter={() => { }}\r\n                    handleLeave={() => { }}\r\n                    finished={true}\r\n                ></Col>\r\n            );\r\n\r\n            return (\r\n                <div>\r\n                    <div className=\"game\">\r\n                        <div className=\"board\">\r\n                            <>\r\n                                <div className=\"col\"></div>\r\n                                {cols}</>\r\n                        </div>\r\n                        {buttons}\r\n                    </div>\r\n                    <h1 style={{ position: \"relative\", marginTop: \"-170px\" }}>{this.state.winner === \"tie\" ? \"Tie\" : `Winner: ${this.state.winner === this.state.humanPiece ? \"You\" : \"AI\"}`}</h1>\r\n                </div>\r\n\r\n            );\r\n        }\r\n\r\n        let cols = [...Array(this.state.board.length)].map((x, y) =>\r\n            <Col\r\n                key={y}\r\n                pieces={this.state.board[y]}\r\n                handleClick={() => this.handleClick(y)}\r\n                handleEnter={() => this.handleEnter(y)}\r\n                handleLeave={() => this.handleLeave(y)}\r\n                finished={false}\r\n            ></Col>\r\n        );\r\n\r\n        if (this.state.currentPlayer === this.state.aiPlayer) {\r\n            let loadingImg = document.getElementById(\"loadingImgT\");\r\n            if (loadingImg) loadingImg.className = 'loadingImgN';\r\n        }\r\n        else {\r\n            let loadingImg = document.getElementById(\"loadingImgT\");\r\n            if (loadingImg) loadingImg.className = 'loadingImgT';\r\n\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"game\">\r\n                    <div className=\"board\">\r\n                        {cols}\r\n                    </div>\r\n\r\n                    {buttons}\r\n                    <img id=\"loadingImgT\" className=\"loadingImgT\" src=\"https://linkpicture.com/q/Double-Ring-1s-200px-2.gif\" height=\"100px\" width=\"100px\" style={{ marginLeft: \"10px\", position: \"absolute\", zIndex: 0 }} alt></img>;\r\n                    <div>\r\n                        <h5 class=\"connectFourDes\" style={{ position: \"absolute\", marginTop: \"160px\", marginLeft: \"30px\", textAlign: \"left\" }}>\r\n                            This is a chess game known as \"Connect Four\", which you<br />\r\n                            will need to connect four pieces to win (accept diagonals). <br />\r\n                            The game has \"gravity\", so wherever you put the pieces, <br />\r\n                            they would \"drop\" down to the bottom.<br /><br />\r\n                            You are competing with a \"Minimax\" AI with alpha-beta pruning.<br />\r\n                            Basically, it will search possible future states of the game<br />\r\n                            and choose the action that it think is best at the current state<br />\r\n                            each time. <br /><br />\r\n                            It is not a perfect player for this game, so try your best to<br />\r\n                            beat it by your \"humanity\"! <br /><br />\r\n                            (Depth 6 is quite slow, please wait patiently.)\r\n                    </h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * @param {*} a \r\n * @param {*} b \r\n * @param {*} c \r\n * @param {*} d \r\n * @returns whether all four pieces are the same\r\n */\r\nfunction checkFour(a, b, c, d) {\r\n    return ((a !== null) && (a === b) && (a === c) && (a === d));\r\n}\r\n\r\n/**\r\n * @param {*} board \r\n * @returns the winner if there is a winner, null otherwise.\r\n */\r\nfunction checkWinner(board) {\r\n    for (let c = 0; c < 7; c++) {\r\n        for (let r = 1; r < 5; r++) {\r\n            if (checkFour(board[c][r], board[c][r + 1], board[c][r + 2], board[c][r + 3])) {\r\n                return board[c][r];\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    for (let c = 0; c < 4; c++) {\r\n        for (let r = 1; r < 7; r++) {\r\n            if (checkFour(board[c][r], board[c + 1][r], board[c + 2][r], board[c + 3][r])) {\r\n                return board[c][r];\r\n            }\r\n        }\r\n    }\r\n\r\n    for (let c = 0; c < 4; c++) {\r\n        for (let r = 1; r < 5; r++) {\r\n            if (checkFour(board[c][r], board[c + 1][r + 1], board[c + 2][r + 2], board[c + 3][r + 3]))\r\n                return board[c][r];\r\n        }\r\n    }\r\n\r\n    for (let c = 3; c < 7; c++) {\r\n        for (let r = 1; r < 5; r++) {\r\n            if (checkFour(board[c][r], board[c - 1][r + 1], board[c - 2][r + 2], board[c - 3][r + 3]))\r\n                return board[c][r];\r\n        }\r\n    }\r\n\r\n    for (let c = 0; c < 7; c++) {\r\n        if (board[c].slice(1, 7).indexOf(null) >= 0) {\r\n            return null;\r\n        }\r\n\r\n    }\r\n    return \"tie\";\r\n}\r\n\r\nexport { checkWinner };","import React, { Component } from 'react';\r\nimport \"./SnakeNode.css\";\r\n\r\nexport default class SnakeNode extends Component {\r\n    render() {\r\n        const {\r\n            row,\r\n            col,\r\n            type,\r\n        } = this.props;\r\n        return (\r\n            <div\r\n                id={`snakeNode-${row}-${col}`}\r\n                className={`snakeNode-${this.props.type}`}\r\n            >\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport SnakeNode from './SnakeNode/SnakeNode';\r\n\r\n// under construction\r\n\r\n\r\nexport default class NNSnakeVisualizer extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            grid: [],\r\n            numRows: 30,\r\n            numCols: 30,\r\n            snake: [{row: 15, col: 15, type: \"snake\"}, {row: 16, col: 15, type: \"snake\"}, {row: 17, col: 15, type: \"snake\"}],\r\n            direction: {dr: 1, dc: 0},\r\n            foodPos: null,\r\n            foodScore: 0,\r\n        }\r\n    }\r\n\r\n    randomFood(){\r\n        let randomRow = randomInt(this.state.numRows);\r\n        let randomCol = randomInt(this.state.numCols);\r\n        return {randomRow, randomCol};\r\n    }\r\n\r\n    setFoodClassName(row, col){\r\n        let nextFood = document.getElementById(`snakeNode-${row}-${col}`);\r\n        if(nextFood) nextFood.className = `snakeNode-food`;\r\n    }\r\n\r\n    componentDidMount(){\r\n        // node: null, snake, food\r\n        let grid = [];\r\n        \r\n        for(let row = 0; row < this.state.numRows; row++){\r\n            let line = [];\r\n            for(let col = 0; col < this.state.numCols; col++){\r\n                let n = {row: row, col: col, type: \"null\"};\r\n                line.push(n);\r\n            }\r\n            grid.push(line);\r\n        }\r\n        this.showSnake(grid, this.state.snake);\r\n        this.setState({grid: grid});\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        let grid = this.state.grid.map((a) => a.slice());\r\n        let {snake, lastNode} = this.updateSnake();\r\n        let food;\r\n        let score = this.state.foodScore;\r\n        if(this.checkFoodEaten(snake)){\r\n            food = this.randomFood();\r\n            score++;\r\n            snake.push(lastNode);\r\n        }\r\n        this.update(grid, snake, food, score);\r\n    }\r\n\r\n    render(){\r\n        let grid = this.state.grid;\r\n        return(\r\n            <div className=\"snakeGrid\" style={{marginTop: \"5%\", marginLeft: \"-65%\"}}>\r\n                    {grid.map((row, rowId) => {\r\n                        return (\r\n                            <div key={rowId}>\r\n                                {row.map((node, nodeId) => {\r\n                                    \r\n                                    const { row, col, type } = node;\r\n                                    \r\n                                    return (\r\n                                        <SnakeNode\r\n                                            key={nodeId}\r\n                                            row={row}\r\n                                            col={col}\r\n                                            type={type}\r\n                                        ></SnakeNode>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                        );\r\n                    })\r\n                    }\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction randomInt(num) {\r\n    return Math.floor(Math.random() * num);\r\n}","import React, { Component } from 'react';\r\nimport PtronVisualizer from './Perceptron/PtronVisualizer';\r\nimport PongVisualizer from './PongVisualizer/PongVisualizer';\r\nimport ConnectFour from './ConnectFourVisualizer/ConnectFour';\r\nimport NNSnakeVisualizer from './NNSnakeVisualizer/NNSnakeVisualizer';\r\nimport './AIVisualizer.css';\r\n\r\nexport default class AIVisualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentAlgorithm: -1,\r\n            algorithms: ['Perceptron', 'Approximate Q', 'Minimax'],\r\n            visualizeAI: () => { },\r\n            reset: () => { },\r\n        };\r\n        \r\n        this.state.reset = this.state.reset.bind(this.state);\r\n        this.state.visualizeAI = this.state.visualizeAI.bind(this.state);\r\n        this.getAIFunctions = this.getAIFunctions.bind(this);\r\n        this.setAlgorithm = this.setAlgorithm.bind(this);\r\n        this.props.getFunctions(() => { this.state.visualizeAI() }, () => { this.state.reset() }, this.setAlgorithm, this.state.algorithms);\r\n    }\r\n\r\n    componentDidMount(){\r\n        // combinatronics.com\r\n        this.newScript(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/499416/TweenLite.min.js\");\r\n        this.newScript(\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/499416/EasePack.min.js\");\r\n        this.newScript(\"https://combinatronics.com/JasonFengGit/Visualizer/master/src/AIVisualizer/networkAnimation.js\");\r\n    }\r\n\r\n    getAIFunctions(run, reset) {\r\n        this.state.visualizeAI = () => {\r\n            run()\r\n        };\r\n        this.state.reset = () => {\r\n            reset();\r\n        }\r\n        this.setState({ visualizeAI: run });\r\n    }\r\n    setAlgorithm(algoId) {\r\n        this.setState({ currentAlgorithm: algoId });\r\n    }\r\n\r\n    newScript(url){\r\n        var script = document.createElement('script');\r\n        script.src = url;\r\n        document.body.appendChild(script);\r\n    }\r\n\r\n    render() {\r\n        let renderObj;\r\n        switch (this.state.currentAlgorithm) {\r\n            case -1:\r\n                renderObj = \r\n                <div>\r\n                    <div class=\"textcontainer\">\r\n                        <div class=\"typewriter\"><h1>Welcome to the Future.</h1></div>\r\n                    </div>\r\n                    <div id=\"large-header\" class=\"large-header\" style={{marginTop: \"-18em\"}}>\r\n                        <canvas id=\"demo-canvas\"></canvas>\r\n                    </div>\r\n                </div>\r\n                break;\r\n            case 0:\r\n                renderObj = <PtronVisualizer setVisualizerRendering={this.props.setVisualizerRendering} getFunctions={this.getAIFunctions}></PtronVisualizer>\r\n                break;\r\n            case 1:\r\n                renderObj = <PongVisualizer setVisualizerRendering={this.props.setVisualizerRendering} getFunctions={this.getAIFunctions}></PongVisualizer>\r\n                break;\r\n            case 2:\r\n                renderObj = <ConnectFour setVisualizerRendering={this.props.setVisualizerRendering} getFunctions={this.getAIFunctions}></ConnectFour>\r\n                break;\r\n            case 3:\r\n                renderObj = <NNSnakeVisualizer setVisualizerRendering={this.props.setVisualizerRendering} getFunctions={this.getAIFunctions}></NNSnakeVisualizer>\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return (\r\n            <div>{renderObj}</div>\r\n        );\r\n\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport TextLoop from \"react-text-loop\";\r\nimport PathFindingVisualizer from './PathFindingVisualizer/PathFindingVisualizer';\r\nimport SortingVisualizer from './SortingVisualizer/SortingVisualizer';\r\nimport './Visualizer.css'\r\nimport AIVisualizer from './AIVisualizer/AIVisualizer';\r\n\r\nexport default class Visualizer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            mode: 'main',\r\n            rendering: false,\r\n            algorithms: [],\r\n            currentAlgorithm: null,\r\n            goFunction: () => { },\r\n            resetFunction: () => { },\r\n            setAlgorithm: () => { },\r\n            sortingClicked: false,\r\n            pathClicked: false,\r\n            AIClicked: false,\r\n            aicount: 0,\r\n        };\r\n        this.getFunctions = this.getFunctions.bind(this);\r\n        this.changeRenderingState = this.changeRenderingState.bind(this);\r\n    }\r\n\r\n    changeRenderingState(rendering) {\r\n        this.setState({ rendering: rendering });\r\n    }\r\n\r\n    getFunctions(go, reset, setAlgo, algorithms) {\r\n        this.state.goFunction = go;\r\n        this.state.resetFunction = reset;\r\n        this.state.setAlgorithm = setAlgo;\r\n        this.state.algorithms = algorithms;\r\n        this.setState({ algorithms: algorithms });\r\n    }\r\n\r\n    render() {\r\n        let renderObj = null;\r\n        if (this.state.mode === 'pathfinding') {\r\n            renderObj = <PathFindingVisualizer setVisualizerRendering={this.changeRenderingState} getFunctions={this.getFunctions} />;\r\n        }\r\n        else if (this.state.mode === 'sorting') {\r\n            renderObj = <SortingVisualizer setVisualizerRendering={this.changeRenderingState} getFunctions={this.getFunctions} />;\r\n        }\r\n        else if (this.state.mode === 'ai') {\r\n            renderObj = <AIVisualizer count={this.state.aicount} setVisualizerRendering={this.changeRenderingState} getFunctions={this.getFunctions}></AIVisualizer>\r\n        }\r\n        else {\r\n            renderObj =\r\n                <div class=\"welbotron\">\r\n\r\n                    <div class=\"container welc\">\r\n\r\n                        <h1 class='welcome'>Hello, algorithms.\r\n                            <p class=\"quote\">\r\n                                <TextLoop interval={3800} springConfig={{ stiffness: 200 }} adjustingSpeed={300} >\r\n                                    <p class=\"quoteText\">\"An algorithm must be seen to be believed.\"</p>\r\n                                    <p class=\"quoteText\">\"Algorithms are central objects of study in Computer Science.\"</p>\r\n                                    <p class=\"quoteText\">\"Algorithms are apprehensible magics.\"</p>\r\n                                    <p class=\"quoteText\">\"An algorithm is like a recipe.\"</p>\r\n                                </TextLoop>\r\n                            </p>\r\n\r\n                            <p class=\"lead\">This website might help you understand algorithms better by visualizing them.</p>\r\n                            <p class=\"secondline lead\">Click on one of the categories below to visualize algorithms.</p>\r\n\r\n                        </h1>\r\n                        <a href='#' class='mainpage-b' onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'pathfinding' });\r\n                                this.setState({ currentAlgorithm: null, pathClicked: true });\r\n                            }\r\n                        }} data-toggle={this.state.pathClicked ? \"\" : \"modal\"} data-target=\"#pathIntroModal\">\r\n                            <span></span>\r\n                            PATH FINDING\r\n                        </a>\r\n                        <a href='#' class='mainpage-b' onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'sorting', currentAlgorithm: null, sortingClicked: true });\r\n                            }\r\n                        }} data-toggle={this.state.sortingClicked ? \"\" : \"modal\"} data-target=\"#sortingIntroModal\">\r\n                            <span></span>\r\n                            SORTING\r\n                        </a>\r\n                        <a href='#' class='mainpage-b' onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'ai', currentAlgorithm: null, AIClicked: true });\r\n                            }\r\n                        }} data-toggle={this.state.AIClicked ? \"\" : \"modal\"} data-target=\"#aiIntroModal\">\r\n                            <span></span>\r\n                            ARTIFICIAL INTELLIGENCE\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n        }\r\n        let invisibleOrNot = '';\r\n        if (this.state.mode === 'main') invisibleOrNot = ' invisible';\r\n        let algorithms = this.state.algorithms;\r\n        return (\r\n            <>\r\n                <nav class=\"navbar navbar-expand-lg navbar-light fixed-top bg-dark\">\r\n                    <button\r\n                        onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'main' });\r\n                            }\r\n                        }}\r\n                        type=\"button\" class=\"btn btn-dark navbtn\"\r\n                        disabled={this.state.rendering}\r\n                    >Main</button>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'pathfinding', currentAlgorithm: null, pathClicked: true });\r\n                                this.state.setAlgorithm(-1);\r\n                            }\r\n                        }}\r\n                        type=\"button\" class=\"btn btn-dark navbtn\"\r\n                        data-toggle={this.state.pathClicked ? \"\" : \"modal\"} data-target=\"#pathIntroModal\"\r\n                        disabled={this.state.rendering}\r\n                    >Pathfinding</button>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'sorting', currentAlgorithm: null, sortingClicked: true });\r\n                                this.state.setAlgorithm(-1);\r\n                            }\r\n                        }}\r\n                        type=\"button\" class=\"btn btn-dark navbtn\"\r\n                        data-toggle={this.state.sortingClicked ? \"\" : \"modal\"} data-target=\"#sortingIntroModal\"\r\n                        disabled={this.state.rendering}\r\n                    >Sorting</button>\r\n\r\n                    <button\r\n                        onClick={() => {\r\n\r\n                            if (!this.state.rendering) {\r\n                                this.setState({ mode: 'ai', currentAlgorithm: null, AIClicked: true });\r\n                                this.state.setAlgorithm(-1);\r\n                            }\r\n                        }}\r\n                        type=\"button\" class=\"btn btn-dark navbtn\"\r\n                        data-toggle={this.state.AIClicked ? \"\" : \"modal\"} data-target=\"#aiIntroModal\"\r\n                        disabled={this.state.rendering}\r\n                    >AI</button>\r\n\r\n                    <div class={\"dropdown\" + invisibleOrNot}>\r\n                        <button class=\"btn btn-secondary dropdown-toggle navbtn\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" disabled={this.state.rendering}>\r\n                            {this.state.currentAlgorithm == null ? 'Algorithms' : this.state.currentAlgorithm}\r\n                        </button>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                            <li>\r\n                                {algorithms.map((algorithm, algoId) => {\r\n                                    return (<button type=\"button\" class=\"btn btn-light navbtn\" onClick={() => {\r\n                                        this.state.setAlgorithm(algoId);\r\n                                        this.setState({ currentAlgorithm: this.state.algorithms[algoId] });\r\n                                    }}>{algorithm}</button>);\r\n                                }\r\n                                )\r\n                                }\r\n                            </li>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class={\"dropdown\" + invisibleOrNot}>\r\n                        <button class=\"btn btn-light dropdown-toggle navbtn\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" disabled={this.state.rendering}>\r\n                            Actions\r\n                        </button>\r\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                            <li>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" onClick={() => this.state.goFunction()} data-toggle={this.state.currentAlgorithm === null ? \"modal\" : \"\"} data-target=\"#setAlgoModal\" disabled={this.state.mode === \"ai\" && this.state.currentAlgorithm === \"Minimax\"}>Go!</button>\r\n                                <button type=\"button\" class=\"btn btn-light navbtn\" onClick={() => this.state.resetFunction()}>Reset</button>\r\n                            </li>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <a href=\"https://github.com/JasonFengGit\" style={{ marginLeft: \"32%\" }}>\r\n                        <img class=\"githubimg\" src=\"https://www.linkpicture.com/q/UIHere_1.png\" width=\"40px\" height=\"40px\" style={{ opacity: \"0.7 !important\" }} alt></img>\r\n                    </a>\r\n                </nav>\r\n\r\n                <div class=\"modal fade\" id=\"setAlgoModal\" role=\"dialog\">\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content\">\r\n\r\n                            <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title\">No Algorithm Selected</h5>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                            </div>\r\n\r\n                            <div class=\"modal-body-alert\">\r\n                                <p>Please select an algorithm first.</p>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-dark\" data-dismiss=\"modal\" style={{ width: '100px' }}>OK</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"modal fade\" id=\"pathIntroModal\" role=\"dialog\">\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content intro\">\r\n\r\n                            <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title\">Pathfinding</h5>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                            </div>\r\n\r\n                            <div class=\"modal-body intro\">\r\n                                <p>\r\n                                    Pathfinding is generally the process of finding a route between two points. It is closely related to the shortest path problem in graph theory,\r\n                                    which examines how to identify the \"best\" paths valued by different criteria (Ex. distance, cost, time consumption).\r\n                                </p>\r\n                                <p>Pathfinding is also similar to Searching in some circumstances. For instance, we can use [breadth-first search] to find the shortest path in a grid world.</p>\r\n                                <p>\r\n                                    In our scenario, the paths are valued by the number of cells they passed from START:\r\n                                    <div class=\"simg\" width=\"20\" height=\"20\"></div>\r\n                                    to the TARGET:\r\n                                    <div class=\"fimg\" width=\"20\" height=\"20\"></div>\r\n                                    .\r\n                                </p>\r\n                                <p>You may drag the START and TARGET icons to change their positions, and click on the blank nodes to add Walls.</p>\r\n\r\n                                <p>Now please choose a sorting algorithm and visualize it!</p>\r\n                                <p class='tips'>(after choosing an algorithm, click on the [Actions] button.)</p><br />\r\n                                <p class='tips'>Note: there could be multiple \"best\" paths, so paths generated by different algorithms may not be consistent.</p>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-dark\" data-dismiss=\"modal\" style={{ width: '100px' }}>OK</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"modal fade\" id=\"sortingIntroModal\" role=\"dialog\">\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content intro\">\r\n\r\n                            <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title\">Sorting</h5>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                            </div>\r\n\r\n                            <div class=\"modal-body intro\">\r\n                                <p>Sorting is a process of arranging an ordered sequence. It is a common operation in many applications.</p>\r\n                                <p>Common uses of sorted sequences are:\r\n                                    <div class='uses-list'>\r\n                                        <p>·lookup or search efficiently</p>\r\n                                        <p>·merge sequences efficiently</p>\r\n                                        <p>·process data in a defined order</p>\r\n                                    </div>\r\n                                Now please choose a sorting algorithm and visualize it!\r\n                                </p>\r\n                                <p class='tips'>(after choosing an algorithm, click on the [Actions] button.)</p>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-dark\" data-dismiss=\"modal\" style={{ width: '100px' }}>OK</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"modal fade\" id=\"aiIntroModal\" role=\"dialog\">\r\n                    <div class=\"modal-dialog\">\r\n                        <div class=\"modal-content intro\">\r\n\r\n                            <div class=\"modal-header\">\r\n                                <h5 class=\"modal-title\">Artificial Intelligence</h5>\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n                            </div>\r\n\r\n                            <div class=\"modal-body intro\">\r\n                                <p>\r\n                                    Artificial intelligence (AI) is intelligence demonstrated by machines.\r\n                                    Leading textbooks define the field as the study of \"intelligent agents\":\r\n                                    any device that perceives its environment and takes actions that maximize its\r\n                                    chance of successfully achieving its goals.\r\n                                </p>\r\n                                <p>\r\n                                    In this category, you will experience with powerful AI algorithms\r\n                                    based on fundamental ideas. Please try to understand those ideas behind through the visualizations,\r\n                                    and I would try my best to demonstrate those principles.\r\n                                </p>\r\n                                <p> Now please choose an algorithm and begin your journey!</p>\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                                <button type=\"button\" class=\"btn btn-dark\" data-dismiss=\"modal\" style={{ width: '100px' }}>OK</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    {renderObj}\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Visualizer from './Visualizer';\r\nimport 'bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.js';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <>\r\n      <meta charset=\"utf-8\" />\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\" />\r\n\r\n      <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css\" integrity=\"sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z\" crossorigin=\"anonymous\"></link>\r\n      <div className=\"App\">\r\n        <BrowserRouter basename={'JasonFengGit.github.io/'}>\r\n          <Visualizer></Visualizer>\r\n        </BrowserRouter>\r\n      </div >\r\n      <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\" integrity=\"sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj\" crossorigin=\"anonymous\"></script>\r\n      <script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js\" integrity=\"sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN\" crossorigin=\"anonymous\"></script>\r\n      <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js\" integrity=\"sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV\" crossorigin=\"anonymous\"></script>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(<App class='app'></App>, document.getElementById('root'));\r\nserviceWorker.unregister();"],"sourceRoot":""}